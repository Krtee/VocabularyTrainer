(this.webpackJsonpflla=this.webpackJsonpflla||[]).push([[0],{101:function(e,t,a){e.exports=a(152)},126:function(e,t,a){},146:function(e,t,a){e.exports=a.p+"static/media/error.fec60437.svg"},149:function(e){e.exports=JSON.parse('{"vocabulary":["hello","please","thank you","morning","noon","evening","night","monday","friday","saturday","sunday","spring","summer","autumn","year","month","week","day","hour","second","you","he","she","it","we","they","yellow","red","purple","blue","green","brown","grey","black","have","walk","see","write","read","give","want","the","and","or","but","with","to","about","why","because","here","there","from","what","pear","banana","strawberry","tomato","salad","melon","earth","people","family","woman","man","child","mother","father","daughter","son","grandma","grandpa","sister","brother","girl","boy","aunt","language","learn","vocabulary","word"]}')},150:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(32),o=a(0),s=a.n(o),l=a(10),u=a(4),i=a.n(u),m=a(7),p=a(2),d=a(23),b=(a(30),a(96)),g=a(97),f=a(92),h=a(56),v=a(14),E=a(51),w=a(16),O=a(88),j=a.n(O),y=a(89),N=a.n(y),_=a(90),x=a.n(_),k=(a(126),function(e){var t=Object(o.useState)(""),a=Object(p.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(""),l=Object(p.a)(c,2),u=l[0],i=l[1],m=Object(o.useState)(""),d=Object(p.a)(m,2),O=d[0],y=d[1];return Object(o.useEffect)((function(){switch(e.page){case"VocabularyTraining":r("active");break;case"AddVocabulary":i("active");break;case"VocabularyList":y("active");break;default:y("active")}}),[]),s.a.createElement("div",null,s.a.createElement("style",null,"\n                .navItem{\n                }\n                "),s.a.createElement(b.a,null,s.a.createElement(g.a,{className:"fixed-bottom"},s.a.createElement(E.a,{className:"justify-content-center navcontainer"},s.a.createElement(f.a,{className:"navrow",style:{backgroundColor:"white"}},s.a.createElement(h.a,{className:n},s.a.createElement(w.LinkContainer,{className:"navItem",to:"/VocabularyTraining"},s.a.createElement(v.a,null,s.a.createElement("img",{className:"svg",src:N.a,width:"20",height:"20",alt:"go to Training"}),s.a.createElement("p",null,"Train")))),s.a.createElement(h.a,{className:u},s.a.createElement(w.LinkContainer,{className:"navItem",to:"/AddVocabulary"},s.a.createElement(v.a,null,s.a.createElement("img",{src:j.a,width:"20",height:"20",alt:"add Vocabulary"}),s.a.createElement("p",null,"Add")))),s.a.createElement(h.a,{className:O},s.a.createElement(w.LinkContainer,{className:"navItem",to:"/VocabularyList"},s.a.createElement(v.a,null,s.a.createElement("img",{src:x.a,width:"20",height:"20",alt:"go to overview"}),s.a.createElement("p",null,"Overview")))))))))}),S=a(157),C=function(e){var t=Object(n.useGlobal)("auth"),a=Object(p.a)(t,2)[1];function c(){localStorage.setItem("isAuthorized",!1),localStorage.setItem("userId",""),a(!1)}return r.a.createElement(b.a,{expand:"lg",id:"navbar",className:"white-background",sticky:"top"},"false"===localStorage.getItem("isAuthorized")?r.a.createElement(l.c,{to:"/"}):null,r.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"ml-auto"}),r.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto"},e.width>700&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.LinkContainer,{to:"/VocabularyList",className:"menu_option vocabulary_list"},r.a.createElement(v.a,{className:"menu_padding"},"Overview")),r.a.createElement(w.LinkContainer,{to:"/AddVocabulary",className:"menu_option add_vocabulary"},r.a.createElement(v.a,{className:"menu_padding"},"Add Vocabulary")),r.a.createElement(w.LinkContainer,{to:"/VocabularyTraining",className:"menu_option vocabulary_training"},r.a.createElement(v.a,{className:"menu_padding"},"Training"))),e.width>700?r.a.createElement(S.a,{className:"mr-sm-2 menu_option",id:"basic-nav-dropdown",title:"Settings"},r.a.createElement(S.a.Item,{className:"menu_option"},r.a.createElement(w.LinkContainer,{to:"/Languages",className:"menu_option mr-sm-2"},r.a.createElement(v.a,{className:"menu_padding"},"Change language"))),r.a.createElement(S.a.Item,{className:"menu_option"},r.a.createElement(w.LinkContainer,{to:"/Settings",className:"menu_option settings"},r.a.createElement(v.a,{className:"menu_padding"},"Account settings"))),r.a.createElement(S.a.Item,{className:"menu_option"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:c},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.LinkContainer,{to:"/Languages",className:"menu_option mr-sm-2"},r.a.createElement(v.a,{className:"menu_padding"},"Change language"))," ",r.a.createElement(w.LinkContainer,{to:"/Settings",className:"menu_option settings"},r.a.createElement(v.a,{className:"menu_padding"},"Account settings")),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:c},"Logout")))))},I=a(13),A=a.n(I),G="http://localhost:8080",L=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.a.get("".concat(G,"/Users/status")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",A.a.post("".concat(G,"/Users"),t));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("".concat(G,"/Users"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Users/getIdForUserName"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.patch("".concat(G,"/Users/").concat(t),{data:a});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("".concat(G,"/Users/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("".concat(G,"/Vocab/"));case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/insert"),t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/getVocabAndTranslation"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/getByIdArray"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("".concat(G,"/Languages"));case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("".concat(G,"/Vocab/getProgress"));case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/searchProgress"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("".concat(G,"/Vocab/filterProgress"),{params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/increaseRGIAR"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/resetRGIAR"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/increaseProgress"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/getProgressForUserAndLanguage"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("".concat(G,"/Vocab/createProgress"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Z={getLanguages:function(){return z()}},$={createUser:function(e){return V(e)},fetchUsers:function(){return P()},editUser:function(e,t){return U(e,t)},getIdForUserName:function(e){return F(e)},deleteUser:function(e){return R(e)}},ee={insert:function(e){return H(e)},getVocab:function(){return D()},getVocabAndTranslation:function(e){return T(e)},getVocabById:function(e){return B(e)}},te={getProgress:function(){return W()},searchProgress:function(e){return M(e)},filterProgress:function(e){return J(e)},getProgressForUserAndLanguage:function(e){return Q(e)},increaseRGIAR:function(e){return Y(e)},resetRGIAR:function(e){return q(e)},increaseProgress:function(e){return K(e)},createProgress:function(e){return X(e)}},ae={get:function(){return L()}},ne=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();function re(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function ce(){var e=Object(o.useState)(re()),t=Object(p.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){function e(){n(re())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}var oe=function(){var e=Object(n.useGlobal)("langID"),t=Object(p.a)(e,1)[0],a=Object(n.useGlobal)("serverError"),c=Object(p.a)(a,2),o=c[0],s=c[1],u=Object(n.useGlobal)("user"),b=Object(p.a)(u,1)[0],g=Object(n.useState)(""),f=Object(p.a)(g,2),h=f[0],v=f[1],E=Object(n.useState)(""),w=Object(p.a)(E,2),O=w[0],j=w[1],y=Object(n.useState)(!1),N=Object(p.a)(y,2),_=N[0],x=N[1],S=Object(n.createRef)(),I=ce().width;Object(n.useEffect)((function(){ne().then((function(e){s(!e)}))}),[]);var A=function(){var e=Object(m.a)(i.a.mark((function e(a){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),j(""),v("no-color"),x(!0),n={language_id:t,english_word:S.current.value,user_id:b},e.next=7,ee.insert(n);case 7:if(200!==(r=e.sent).status){e.next=15;break}return e.next=11,te.createProgress(n);case 11:(c=e.sent).success?c.didAlreadyExist?(j("This word is already in your collection."),v("info")):(j("Your word was successfully added."),v("right")):(j("An error occured. Please try again later."),v("wrong")),e.next=18;break;case 15:console.log("addVocab -> res",r),j("Word not found. Please check the spelling."),v("wrong");case 18:x(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"content",className:"add_vocabulary"},"false"===localStorage.getItem("isAuthorized")||!1===localStorage.getItem("isAuthorized")?r.a.createElement(l.c,{to:"/"}):null,r.a.createElement(C,{width:I}),I<700&&r.a.createElement(k,{page:"AddVocabulary"}),o?r.a.createElement(l.c,{to:"/Error"}):r.a.createElement("form",null,r.a.createElement("h1",{className:"margin_top_small"},"Add vocabulary"),r.a.createElement("h2",null,"Enter the word you want to add"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-2 col-md-3 col-sm-3 col-12 no-padding-left",htmlFor:"add_vocabulary_english"},"English"),r.a.createElement("input",{type:"text",className:"form-control col-lg-10 col-md-9 col-sm-9 col-12",id:"add_vocabulary_english",placeholder:"type in English word",ref:S})),r.a.createElement("button",{type:"submit",className:"btn btn-primary margin_top_small",onClick:A,disabled:_},_?r.a.createElement("div",{className:"spinner-border ",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):"Add vocabulary"),r.a.createElement(d.Link,{to:"/VocabularyList"},r.a.createElement("button",{type:"button",className:"btn btn-primary margin_left grey_button margin_top_small"},"Show overview"))),r.a.createElement("div",{className:"p-1 inline_block margin_top "+h},O))},se=function(){var e=Object(n.useGlobal)("serverError"),t=Object(p.a)(e,2)[1],c=Object(n.useState)(!0),o=Object(p.a)(c,2),s=o[0],l=o[1],u=Object(n.useState)(!1),i=Object(p.a)(u,2),m=i[0],b=i[1];Object(n.useEffect)((function(){ne().then((function(e){t(!e)}))}),[]);var g=function(){b(!0),ne().then((function(e){e?(t(!1),l(!1),b(!1)):(t(!0),l(!0),setInterval((function(){b(!1)}),3e3))}))};return r.a.createElement("div",null,r.a.createElement("h1",{className:"margin_top_small"},"Oh no!"),r.a.createElement("div",{className:"d-flex p-2 flex-column"},r.a.createElement("img",{style:{height:"350px"},src:a(146),className:"m-4",alt:"error-icon"}),s?r.a.createElement("div",{className:"alert alert-danger m-4"},"Network Error! Please try again later!"):null,r.a.createElement("div",{className:"alert alert-warning m-4 d-flex justify-content-between align-items-center"},"Check Server Status: ".concat(s?"Still down \ud83d\ude14":"Up Again! \ud83d\ude03"),m?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):null,r.a.createElement("button",{type:"button",className:"btn-warning btn btn-primary",onClick:g},"Check")),s?null:r.a.createElement(d.Link,{to:"/",className:"m-4"},r.a.createElement("button",{type:"button",className:"btn-success btn btn-primary w-100",onClick:g},"Back to login!"))))},le=a(66),ue=a.n(le),ie=function(e){var t=e.noAccount,a=e.createUser,c=e.login,o=e.userNameHelp,s=e.passwordHelp,l=e.passwordRepeatHelp,u=Object(n.useState)(""),i=Object(p.a)(u,2),m=i[0],d=i[1],b=Object(n.useState)(""),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(n.useState)(""),E=Object(p.a)(v,2),w=E[0],O=E[1],j={userName:m,password:f,passwordRepeat:w,userNameHelp:o,passwordHelp:s,passwordRepeatHelp:l},y=function(e){var t=e.target.value;switch(e.target.name){case"userName":d(t);break;case"password":h(t);break;case"passwordRepeat":O(t)}},N=function(e){switch(e.preventDefault(),e.target.name){case"noAccount":a(j);break;default:c(j)}};return t?r.a.createElement("fieldset",{className:"box"},r.a.createElement("form",{onSubmit:N,name:"noAccount",id:"signUpForm"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-username"},"User name"),r.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},r.a.createElement("input",{name:"userName",type:"text",className:"form-control",id:"login-username",placeholder:"Choose a user name",defaultValue:m,onChange:y}),r.a.createElement("small",{className:"form-text text-muted"},o))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Password"),r.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},r.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"login-password",placeholder:"Choose a password",onChange:y}),r.a.createElement("small",{className:"form-text text-muted"},s))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Repeat password"),r.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},r.a.createElement("input",{name:"passwordRepeat",type:"password",className:"form-control",id:"login-password",placeholder:"Repeat password",onChange:y}),r.a.createElement("small",{className:"form-text text-muted"},l))),r.a.createElement("input",{type:"submit",value:"Sign Up",className:"btn btn-primary"}))):r.a.createElement("fieldset",{className:"box"},r.a.createElement("form",{onSubmit:N,name:"hasAccount",id:"logInForm"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-username"},"User name"),r.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},r.a.createElement("input",{type:"username",className:"form-control",id:"login-username",placeholder:"Enter user name",name:"userName",onChange:y}),r.a.createElement("small",{className:"form-text text-muted"},o))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Password"),r.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},r.a.createElement("input",{type:"password",className:"form-control",id:"login-password",placeholder:"Enter password",name:"password",onChange:y}),r.a.createElement("small",{className:"form-text text-muted"},s))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Log in")))},me=function(e){var t=e.createUser,a=e.login,c=e.userNameHelp,o=e.passwordHelp,s=e.passwordRepeatHelp,l=e.emptyHelpFields,u=Object(n.useState)(!1),i=Object(p.a)(u,2),m=i[0],d=i[1],b=Object(n.useState)("No account?"),g=Object(p.a)(b,2),f=g[0],h=g[1];return r.a.createElement("div",null,r.a.createElement(ie,{noAccount:m,createUser:t,login:a,userNameHelp:c,passwordHelp:o,passwordRepeatHelp:s}),r.a.createElement("button",{type:"button",className:"btn btn-primary marginleft margin_top grey_button",onClick:function(){l(),!1===m?(d(!0),h("Already got an account?")):(d(!1),h("No account?"),l())}},f))},pe=a(93);var de=function(){var e=Object(n.useGlobal)("progressSetting"),t=Object(p.a)(e,2)[1],a=Object(n.useGlobal)("user"),c=Object(p.a)(a,2),o=(c[0],c[1]),s=Object(n.useGlobal)("auth"),u=Object(p.a)(s,2),d=u[0],b=u[1],g=Object(n.useGlobal)("serverError"),f=Object(p.a)(g,2),h=f[0],v=f[1],E=Object(n.useState)(""),w=Object(p.a)(E,2),O=w[0],j=w[1],y=Object(n.useState)(""),N=Object(p.a)(y,2),_=N[0],x=N[1],k=Object(n.useState)(""),S=Object(p.a)(k,2),C=S[0],I=S[1];function A(){return(A=Object(m.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.userName?t.userName:null,n=t.password?t.password:null,r=t.passwordRepeat?t.passwordRepeat:null,R(),V(a).then((function(e){return G(a,e,n,r)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,a,n){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(i.a.mark((function e(t,a,n,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!F(t,n,r)){e.next=20;break}if(!0===a&&I("Username is already taken. Please choose a different one."),n===r){e.next=8;break}j("Passwords don't match"),x("Passwords don't match"),e.next=18;break;case 8:return e.next=10,D(t);case 10:if(!e.sent){e.next=17;break}return console.info("Saving...",{userName:t,password:n,passwordRepeat:r}),c={username:t,password:n},e.abrupt("return",new ue.a(function(){var e=Object(m.a)(i.a.mark((function e(a,n){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.createUser(c);case 2:if(!(r=e.sent)){e.next=12;break}if(200!==r.status){e.next=12;break}return b(!0),e.next=8,z(t);case 8:return J(!0,s=e.sent),o(s),e.abrupt("return",a(r.data));case 12:return localStorage.setItem("isAuthorized",!1),localStorage.setItem("userId",""),b(!1),e.abrupt("return",n("Something went wrong while trying to authenticate!"));case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 17:I("Username already exists!");case 18:e.next=23;break;case 20:null==t&&I("Please enter a user name"),null==n&&j("Please enter a password"),null==r&&x("Please repeat the password");case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),console.log(e.t0),v(!0);case 29:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}function V(e){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.fetchUsers();case 3:return a=e.sent,n=a.data.data,r=B(t,n),e.abrupt("return",!(void 0===r));case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function F(e,t,a){return null!=e&&null!=t&&null!=a}function U(e,t){return e.length>0&&t.length>0}function R(){I(""),j(""),x("")}function D(e){return H.apply(this,arguments)}function H(){return(H=Object(m.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.fetchUsers().then((function(e){return e.data.data}));case 2:a=e.sent,n=0;case 4:if(!(n<a.length)){e.next=12;break}if(a[n].username!==t){e.next=9;break}return console.log("Username already exists"),e.abrupt("return",!1);case 9:n++,e.next=4;break;case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{new ue.a(function(){var e=Object(m.a)(i.a.mark((function e(n,r){var c,s,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.fetchUsers();case 2:if(!(c=e.sent)){e.next=13;break}if(200!==c.status){e.next=13;break}return s=c.data.data,l=B(a.userName,s),u=!1,R(),U(a.userName,a.password)?(null!=l&&(u=M(l,a.password)),u?(o(l._id),t(l.right_guesses_in_a_row)):j("Wrong user name or password")):(0===a.userName.length&&I("Please enter your user name"),0===a.password.length&&j("Please enter your password")),u&&J(!0,l._id),b(u),e.abrupt("return",n(c.data));case 13:return v(!0),e.abrupt("return",r("Something went wrong"));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){try{var a=new Map;return t.forEach((function(e){a.set(e.username,e)})),a.get(e)}catch(n){console.error(n)}}function z(e){return W.apply(this,arguments)}function W(){return(W=Object(m.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:t},e.next=3,$.getIdForUserName(a);case 3:return n=e.sent,r=n.userId,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){try{return e.password===t}catch(a){console.error(a)}}function J(e,t){e&&(localStorage.setItem("isAuthorized",!0),localStorage.setItem("userId",t))}return Object(n.useEffect)((function(){ne().then((function(e){v(!e)}))}),[]),r.a.createElement("div",null,d?r.a.createElement(l.c,{to:"/languages"}):null,r.a.createElement("h1",{className:"margin_top_small"},"Vocabulary Trainer"),r.a.createElement("h2",null,"Log in or sign up!"),h?r.a.createElement(l.c,{to:"/Error"}):r.a.createElement(me,{createUser:function(e){return A.apply(this,arguments)},login:function(e){return T.apply(this,arguments)},emptyHelpFields:R,userNameHelp:C,passwordHelp:O,passwordRepeatHelp:_}),r.a.createElement("div",{className:"fixed-bottom m-5 flex-end text-right"},r.a.createElement("span",{className:"text-secondary "},"Version: ",pe.a)))},be=function(e){var t=e.language,a=t.language,c=t.id,o=e.getLanguage,s=Object(n.useGlobal)("langID"),l=Object(p.a)(s,2)[1],u=Object(n.useGlobal)("langName"),i=Object(p.a)(u,2)[1];return r.a.createElement("div",{className:"col-lg-4 col-6"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(c,a),l(c),i(a)}},r.a.createElement("input",{type:"hidden",value:a,name:"language"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary margin_top col-lg-12 languages_option"},a)))},ge=function(){var e=Object(n.useGlobal)("auth"),t=Object(p.a)(e,2)[1];return r.a.createElement(b.a,{id:"navbar",sticky:"top",className:"white-background",expand:"*"},r.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"ml-auto"}),r.a.createElement(b.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},r.a.createElement(g.a,{className:"ml-auto"},r.a.createElement(g.a.Item,null,r.a.createElement(w.LinkContainer,{to:"/Settings",className:"menu_option settings"},r.a.createElement(v.a,{className:"menu_padding"},"Account settings"))),r.a.createElement(g.a.Item,null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){localStorage.setItem("isAuthorized",!1),localStorage.setItem("userId",""),t(!1)}},"Logout")))))},fe=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getLanguages();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(n.useGlobal)("auth"),t=(Object(p.a)(e,1)[0],Object(n.useGlobal)("langName")),a=Object(p.a)(t,2),r=a[0],c=a[1],u=Object(n.useGlobal)("langID"),i=Object(p.a)(u,2),m=i[0],d=i[1],b=Object(o.useState)([]),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(o.useState)(!1),E=Object(p.a)(v,2),w=E[0],O=E[1],j=Object(n.useGlobal)("serverError"),y=Object(p.a)(j,2),N=y[0],_=y[1];Object(o.useEffect)((function(){N||ne().then((function(e){_(!e)}))}),[]),Object(o.useEffect)((function(){fe().then((function(e){e&&h(e)}))}),[]);var x=function(e,t){console.group("Language"),console.log("%c langID ","Background: #0CE66E",e),console.log("%c langName ","Background: #0CE6E2",t),console.groupEnd(),c(t),d(e),O(!0)};if(w)return s.a.createElement(l.c,{to:{pathname:"/VocabularyList",query:{langName:r,langID:m}}});var k=0;return s.a.createElement("div",null,s.a.createElement(ge,null),N?s.a.createElement(l.c,{to:"/Error"}):"false"===localStorage.getItem("isAuthorized")||!1===localStorage.getItem("isAuthorized")?s.a.createElement(l.c,{to:"/"}):s.a.createElement(s.a.Fragment,null," ",s.a.createElement("h1",{className:"margin_top_small"},"Languages"),s.a.createElement("h2",null,"Select the language you want to practise."),s.a.createElement("div",{className:"row box"},f.map((function(e){return s.a.createElement(be,{key:k++,language:e,getLanguage:x})})))))},ve=a(35),Ee=a(26);var we=function(){var e=Object(n.useGlobal)("auth"),t=Object(p.a)(e,2),a=(t[0],t[1]),c=Object(n.useGlobal)("user"),s=Object(p.a)(c,1)[0],u=Object(o.createRef)(),d=Object(o.createRef)(),b=Object(o.createRef)(),g=Object(o.createRef)(),f=Object(o.useState)(!1),h=Object(p.a)(f,2),v=h[0],E=h[1],w=Object(o.useState)(!1),O=Object(p.a)(w,2),j=O[0],y=O[1],N=Object(o.useState)(!1),_=Object(p.a)(N,2),x=_[0],S=_[1],I=Object(o.useState)(!1),A=Object(p.a)(I,2),G=A[0],L=A[1],V=Object(o.useState)(""),P=Object(p.a)(V,2),F=P[0],U=P[1],R=ce().width,D=Object(n.useGlobal)("serverError"),H=Object(p.a)(D,2),T=H[0],B=H[1];Object(n.useEffect)((function(){ne().then((function(e){B(!e)}))}),[]);var z=function(e,t){e&&e.preventDefault(),"1"===t?E(!1):"2"===t&&y(!1)},W=function(e,t){U(""),e&&e.preventDefault(),M()&&("changeButton"===t?E(!0):"deleteButton"===t&&y(!0),S(!1))},M=function(){return""===b.current.value||(""!==g.current.value?g.current.value===b.current.value||(U("Passwords don't match!"),!1):void U("The password has to be entered twice."))},J=function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t]},Y=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),""!==b.current.value?g.current.value===b.current.value&&(a={username:u.current.value,password:b.current.value,right_guesses_in_a_row:d.current.value},console.log(a)):a={username:u.current.value,right_guesses_in_a_row:d.current.value},J(a),e.next=5,$.editUser(s,a);case 5:e.sent.data.success&&S(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.deleteUser(s);case 2:if(!e.sent.data.success){e.next=9;break}return S(!0),localStorage.setItem("isAuthorized",!1),localStorage.setItem("userId",""),e.next=9,a(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,T?r.a.createElement(l.c,{to:"/Error"}):"false"===localStorage.getItem("isAuthorized")||!1===localStorage.getItem("isAuthorized")?r.a.createElement(l.c,{to:"/"}):r.a.createElement("div",{id:"content",className:"settings margin_top"},r.a.createElement(C,{width:R}),R<700&&r.a.createElement(k,null),r.a.createElement("form",null,r.a.createElement("h1",{className:"margin_top_small"},"Settings"),r.a.createElement("h2",{className:"lead"},"Choose the property that you want to change"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no-padding-left",htmlFor:"settings"},"How many correct answers in a row lead to a new progress level?"),r.a.createElement("input",{type:"number",className:"form-control col-lg-8 col-xs-12",id:"settings",placeholder:"",ref:d})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no-padding-left",htmlFor:"settings"},"Change username"),r.a.createElement("input",{type:"text",className:"form-control col-lg-8 col-xs-12",id:"settings",placeholder:"",ref:u})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no-padding-left",htmlFor:"settings"},"Change password"),r.a.createElement("input",{type:"password",className:"form-control col-lg-8 col-xs-12",id:"settings",placeholder:"",onChange:function(e){e&&e.preventDefault(),""!==b.current.value?L(!0):L(!1)},ref:b})),G&&r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no-padding-left",htmlFor:"settings"},"Re-enter password"),r.a.createElement("input",{type:"password",className:"form-control col-lg-8 col-xs-12",id:"settings",placeholder:"",ref:g})),r.a.createElement("div",{className:"warning"},F),r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return W(e,"changeButton")}},"Save settings")),r.a.createElement(ve.a,{variant:"danger",style:{marginTop:"1em"},onClick:function(e){return W(e,"deleteButton")}},"Delete Account"),r.a.createElement(Ee.a,{show:v,onHide:function(e){return z(e,"1")}},r.a.createElement(Ee.a.Header,{closeButton:!0},r.a.createElement(Ee.a.Title,null,"Warning")),r.a.createElement(Ee.a.Body,null,x?"Changed.":"Are you sure that you want to save these changes?"),r.a.createElement(Ee.a.Footer,null,r.a.createElement(ve.a,{variant:"secondary",onClick:function(e){return z(e,"1")}},"Close"),!x&&r.a.createElement(ve.a,{variant:"primary",onClick:Y},"Save Changes"))),r.a.createElement(Ee.a,{show:j,onHide:function(e){return z(e,"2")}},r.a.createElement(Ee.a.Header,{closeButton:!0},r.a.createElement(Ee.a.Title,null,"Warning")),r.a.createElement(Ee.a.Body,null,x?"Account Deleted.":"Are you sure that you want to delete this account?"),r.a.createElement(Ee.a.Footer,null,r.a.createElement(ve.a,{variant:"secondary",onClick:function(e){return z(e,"2")}},"Close"),!x&&r.a.createElement(ve.a,{variant:"danger",onClick:q},"Delete Account")))))},Oe=function(e){for(var t=e.vocabsPerPage,a=e.totalVocabs,c=e.paginate,o=[],s=Object(n.useState)(1),l=Object(p.a)(s,2),u=l[0],i=l[1],m=1;m<=Math.ceil(a/t);m++)o.push(m);var d=function(e){return u===e?"page_link_active":""};return r.a.createElement("nav",{className:"margin_top"},r.a.createElement("ul",{className:"pagination"},o.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("span",{onClick:function(){return function(e){c(e),i(e)}(e)},className:"page-link page_link "+d(e)},e))}))))},je=function(){var e=Object(m.a)(i.a.mark((function e(t,a,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={english_word:t,lang_id:a,user_id:n},e.next=3,ee.getVocabAndTranslation(r);case 3:return c=e.sent,e.abrupt("return",c.translation);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ye=function(e){var t=e.english_word,a=e.progress,c=e.even,o=Object(n.useGlobal)("langID"),s=Object(p.a)(o,1)[0],l=Object(n.useGlobal)("user"),u=Object(p.a)(l,1)[0],i=Object(n.useState)(""),m=Object(p.a)(i,2),d=m[0],b=m[1];return Object(n.useEffect)((function(){je(t,s,u).then((function(e){b(e)}))}),[]),r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4"+(c?" blue_background":"")},t),r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4"+(c?" blue_background":"")},d),r.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-3 col-4"+(c?" blue_background":"")},a))},Ne=function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={user_id:t,lang_id:a},e.next=4,te.getProgressForUserAndLanguage(n);case 4:if(!((r=e.sent).length<50)){e.next=9;break}return e.next=8,_e(t,a);case 8:return e.abrupt("return",Ne(t,a));case 9:return e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(){var e=Object(m.a)(i.a.mark((function e(t,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a(149),c=r.vocabulary,Object.entries(c).forEach(function(){var e=Object(m.a)(i.a.mark((function e(a){var r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.a)(a,2),r[0],c=r[1],o={language_id:n,english_word:c,user_id:t},e.next=4,ee.insert(o);case 4:200===e.sent.status&&te.createProgress(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xe=function(e){var t=Object(n.useGlobal)("user"),a=Object(p.a)(t,1)[0],c=Object(n.useGlobal)("langID"),o=Object(p.a)(c,1)[0],s=Object(n.useGlobal)("langName"),u=Object(p.a)(s,1)[0],i=Object(n.useGlobal)("serverError"),m=Object(p.a)(i,2),d=m[0],b=m[1],g=Object(n.useState)([]),f=Object(p.a)(g,2),h=f[0],v=f[1],E=Object(n.useState)(!0),w=Object(p.a)(E,2),O=w[0],j=w[1],y=ce().width,N=Object(n.useState)(1),_=Object(p.a)(N,2),x=_[0],S=_[1],I=Object(n.useState)(25),A=Object(p.a)(I,1)[0];Object(n.useEffect)((function(){var e=!1;return Ne(a,o).then((function(t){console.log("isCancelled: "+e),e?console.log("fetching cancelled"):(v(t),j(!1))})),function(){e=!0,console.log("unmounted."+e)}}),[]),Object(n.useEffect)((function(){var e=!1;return ne().then((function(t){console.log("Landing -> isRunning",t),e?console.log("server runtask cancelled"):b(!t)})),function(){e=!0}}),[]);var G=0,L=x*A,V=L-A,P=h?h.slice(V,L):null;return r.a.createElement(r.a.Fragment,null,d?r.a.createElement(l.c,{to:"/Error"}):"false"===localStorage.getItem("isAuthorized")||!1===localStorage.getItem("isAuthorized")?r.a.createElement(l.c,{to:"/"}):r.a.createElement("div",{id:"content",className:"vocabulary_list"},r.a.createElement(C,{width:y}),y<700&&r.a.createElement(k,{page:"VocabularyList"}),r.a.createElement("div",{id:"vocabulary_list"},r.a.createElement("h1",{className:"margin_top_small"},"Vocabulary overview"),r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4 vocabulary_list_header"},"English"),r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4 vocabulary_list_header"},u),r.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-3 col-4 vocabulary_list_header"},"Progress")),!O&&P&&P.length>0?P.map((function(e){return r.a.createElement(ye,{key:(new Date).getTime()+G++,english_word:e.english_word,progress:e.progress,translation:"",even:G%2===0})})):r.a.createElement("div",{className:"spinner-border m-5",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement(Oe,{vocabsPerPage:A,totalVocabs:h.length,paginate:function(e){S(e)}}))))},ke=function(e){var t=Object(n.useGlobal)("langName"),a=Object(p.a)(t,1)[0],c=Object(n.useState)(25),o=Object(p.a)(c,2),s=o[0],l=o[1],u=Object(n.useState)(!0),i=Object(p.a)(u,2),m=i[0],d=i[1],b=Object(n.useState)(!0),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(n.useState)(!0),E=Object(p.a)(v,2),w=E[0],O=E[1],j=Object(n.useState)(!1),y=Object(p.a)(j,2),N=y[0],_=y[1],x=function(e){var t=e.target,a=t.value;switch(t.name){case"vocabNumber":l(a);break;case"progress1":d(!m);break;case"progress2":h(!f);break;case"progress3":O(!w);break;case"training_options_radios":_(a);break;default:console.error("Oh..")}},k=e.showButton;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),(0,e.receiveInput)({vocabNumber:s,progress1:m,progress2:f,progress3:w,training_options_radios:N}),e.onClick()}},r.a.createElement("h2",null,"Please set your training prefrences"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12",htmlFor:"training_options_amount"},"How many vocabulary do you want to practise?"),r.a.createElement("div",{className:"col-lg-8 col-xs-12"},r.a.createElement("input",{type:"number",className:"form-control col-12",id:"training_options_amount",defaultValue:25,name:"vocabNumber",onChange:x}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12",htmlFor:"training_options_amount"},"Train vocabulary with following progress:"),r.a.createElement("div",{className:"col-lg-8 col-xs-12"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:m,id:"training_options_check_1",name:"progress1",checked:m,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_1"},"1")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:f,id:"training_options_check_2",name:"progress2",checked:f,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_2"},"2")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:w,id:"training_options_check_2",name:"progress3",checked:w,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_2"},"3")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no_padding_left",htmlFor:"training_options_direction"},"Direction"),r.a.createElement("div",{className:"col-lg-8 col-xs-12"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"training_options_radios",id:"training_options_radios_1",value:"fo_en",defaultChecked:!0,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_radios_1"},"Show English, ask ".concat(a))),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"training_options_radios",id:"training_options_radios_2",value:"en_fo",onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_radios_2"},"Show ".concat(a,", ask English"))))),k?r.a.createElement("button",{type:"submit",className:"btn btn-primary margin_top"},"Start training"):null)},Se=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.filterProgress(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getVocabById(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),c=a[0],o=a[1],s=Object(n.useGlobal)("langID"),l=Object(p.a)(s,1)[0],u=Object(n.useGlobal)("progress"),d=Object(p.a)(u,1)[0],b=Object(n.useGlobal)("summary"),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(n.useGlobal)("user"),E=Object(p.a)(v,1)[0],w=Object(n.useGlobal)("progressSetting"),O=Object(p.a)(w,1)[0],j=Object(n.useGlobal)("direction"),y=Object(p.a)(j,1)[0],N=Object(n.useState)(0),_=Object(p.a)(N,2),x=_[0],k=_[1],S=Object(n.useState)(null),C=Object(p.a)(S,2),I=C[0],A=C[1],G=Object(n.useState)(""),L=Object(p.a)(G,2),V=L[0],P=L[1],F=Object(n.useState)(0),U=Object(p.a)(F,2),R=U[0],D=U[1],H=Object(n.useState)(null),T=Object(p.a)(H,2),B=T[0],z=T[1];Object(n.useEffect)((function(){Se({user_id:E,language_id:l,progress:d}).then((function(e){e&&e.success&&(M(e.data),h([]))}))}),[]);var W=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,o,s,u,m,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=c[R],(r=f).push({currentWord:n,input:V}),h(r),o={user_id:E,english_word:n.english_word,lang_id:l},!V){t.next=25;break}if(s=!1,n.translation[l]?u="fo_en"===y?V.toLowerCase().trim()===n.translation[l].toLowerCase():V.toLowerCase().trim()===n.english_word.toLowerCase():(console.error("Word not found in current language."),s=!0),!u&&!s){t.next=20;break}return D(R+1),P(""),A(""),k(0),t.next=16,te.increaseRGIAR(o);case 16:1===(m=t.sent).progress?m.right_guesses_in_a_row===O-1&&(te.increaseProgress(o),console.info("%c Progress updated!","Background: #00ff55")):2===m.progress?m.right_guesses_in_a_row!==O-1&&m.right_guesses_in_a_row!==2*O-1||(te.increaseProgress(o),console.info("%c Progress updated!","Background: #33ff77")):console.info("%c Maximum Progress level already achieved!","Background: #0f0"),t.next=25;break;case 20:te.resetRGIAR(o),A("Unfortunately not correct! Please try again."),k(x+1),x>=1&&(p="fo_en"===e.direction?n.translation[l]:n.english_word,A("Correct translation: ".concat(p," \nPlease type it in to increase your learning effect.")));case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c,s,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.numberOfVocabs,r=[],a.forEach((function(e){r.push(e.english_word)})),t.next=5,Ce(r).then((function(e){return e.data}));case 5:for(c=t.sent,s=[],c.length<n&&(z("Your selection contains only ".concat(c.length," words.")),J());s.length<c.length&&s.length<n;)l=Math.floor(Math.random()*c.length+0),s.includes(c[l])||s.push(c[l]);o(s);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){setTimeout((function(){z(null)}),5e3)};return r.a.createElement("div",{className:"margin_top"},R<c.length?r.a.createElement("form",null,B?r.a.createElement("p",{className:"bg-warning p-1"},B):null,r.a.createElement("h2",null,"Translate! ".concat(R+1,"/").concat(c.length)),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-xs-12 no-padding-left",htmlFor:"train_vocabulary_translation"},c[R]?"fo_en"===e.direction?c[R].english_word:c[R].translation[l]:"error"),r.a.createElement("input",{type:"text",className:"form-control col-lg-9 col-xs-12",id:"train_vocabulary_translation",placeholder:"type in translation",name:"translationInput",onChange:function(e){var t=e.target.value;P(t)},value:V})),I?r.a.createElement("p",{className:"alert-warning"},I):null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:W},"Submit and continue"),r.a.createElement("button",{type:"button",className:"btn btn-secondary ml-1",onClick:function(){A(""),k(0),D(R+1),P("")}},"Skip")):r.a.createElement("div",null,"Completed! Show summary?"))},Ae=function(){var e=Object(m.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.searchProgress({english_word:t,user_id:a,language_id:n});case 2:return r=e.sent,e.prev=3,e.abrupt("return",r.progress);case 7:e.prev=7,e.t0=e.catch(3),console.error(e.t0);case 10:return e.abrupt("return",-1);case 11:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ge=function(e){var t=e.vocab,a=e.input,c=e.correct,o=e.english_word,s=e.user,l=e.langID,u=Object(n.useState)(null),i=Object(p.a)(u,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){Ae(o,s,l).then((function(e){d(e)}))}),[]),r.a.createElement("div",{className:"summary_list_entry ".concat(c.toLowerCase().trim()===a.toLowerCase().trim()?"right":"wrong")},e.width>700?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},t),r.a.createElement("div",{className:"col-3"},a),r.a.createElement("div",{className:"col-3"},c),r.a.createElement("div",{className:"col-3"},m)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 bold"},"Given word: "),r.a.createElement("div",{className:"col-6"},t)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 bold"},"Your translation: "),r.a.createElement("div",{className:"col-6"},a)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 bold"},"Correct translation: "),r.a.createElement("div",{className:"col-6"},c)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 bold"},"Current progress: "),r.a.createElement("div",{className:"col-6"},m))))},Le=function(e){var t=Object(n.useGlobal)("summary"),a=Object(p.a)(t,1)[0],c=Object(n.useGlobal)("langID"),o=Object(p.a)(c,1)[0],s=Object(n.useGlobal)("user"),l=Object(p.a)(s,1)[0],u=Object(n.useGlobal)("direction"),i=Object(p.a)(u,1)[0],m=ce().width,d=0;return r.a.createElement("div",{id:"training_summary",className:"margin_top"},r.a.createElement("h2",null,"Training summary"),m>700?r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Given word"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Your translation"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Correct translation"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Current Progress")):r.a.createElement("div",null),a.map((function(e){var t=e.currentWord.translation[o]?e.currentWord.translation[o]:"HOOOOOOW";return d++,r.a.createElement(Ge,{key:d++,vocab:"fo_en"===i?e.currentWord.english_word:e.currentWord.translation[o],input:e.input,correct:"fo_en"===i?t:e.currentWord.english_word,english_word:e.currentWord.english_word,langID:o,user:l,width:m,test:console.log("entry.currentWord",e.currentWord.translation[o])})})))};var Ve=function(){var e=Object(n.useGlobal)("direction"),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useGlobal)("language"),s=Object(p.a)(o,1)[0],u=Object(n.useGlobal)("numberOfVocab"),i=Object(p.a)(u,2),m=i[0],d=i[1],b=Object(n.useGlobal)("progress"),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(n.useGlobal)("serverError"),E=Object(p.a)(v,2),w=E[0],O=E[1],j=Object(n.useState)("options"),y=Object(p.a)(j,2),N=y[0],_=y[1],x=Object(n.useState)("Start training"),S=Object(p.a)(x,2),I=S[0],A=S[1],G=Object(n.useState)(!1),L=Object(p.a)(G,2),V=L[0],P=L[1],F=Object(n.useState)(!0),U=Object(p.a)(F,2),R=U[0],D=U[1],H=Object(n.useState)(!1),T=Object(p.a)(H,2),B=T[0],z=T[1],W=Object(n.useState)(!1),M=Object(p.a)(W,2),J=M[0],Y=M[1],q=ce().width;Object(n.useEffect)((function(){ne().then((function(e){O(!e)}))}),[]);var K=function(){"options"===N?(_("queries"),D(!1),z(!0),Y(!1),A("Stop training")):"queries"===N?(_("summary"),D(!1),z(!1),Y(!0),A("Start new training")):"summary"===N&&(_("options"),D(!0),z(!1),Y(!1),A("Start training"),P(!1))};return r.a.createElement(r.a.Fragment,null,w?r.a.createElement(l.c,{to:"/Error"}):"false"===localStorage.getItem("isAuthorized")||!1===localStorage.getItem("isAuthorized")?r.a.createElement(l.c,{to:"/"}):r.a.createElement("div",{id:"content",className:"vocabulary_training"},r.a.createElement(C,{width:q}),q<700&&r.a.createElement(k,{page:"VocabularyTraining"}),r.a.createElement("h1",{className:"margin_top_small"},"Vocabulary Training"),R&&!V?r.a.createElement(ke,{receiveInput:function(e){P(!0),0===e.vocabNumber?d(25):d(e.vocabNumber);var t=[];e.progress1&&t.push(1),e.progress2&&t.push(2),e.progress3&&t.push(3),h(t),console.log("receiveInput -> input.training_options_radios",e.training_options_radios),e.training_options_radios?c(e.training_options_radios):c("fo_en")},showButton:!V,onClick:K}):null,B?r.a.createElement(Ie,{show:!1,numberOfVocabs:m,progress:f,direction:a,language:s}):null,J?r.a.createElement(Le,{show:!1}):null,V?r.a.createElement("button",{type:"button",className:"btn btn-primary margin_top",onClick:K},"".concat(I)):null))},Pe=function(){return s.a.createElement("main",null,s.a.createElement(l.g,null,s.a.createElement(l.d,{exact:!0,path:"/",component:de}),s.a.createElement(l.d,{path:"/Languages",component:he}),s.a.createElement(l.d,{path:"/VocabularyList",component:xe}),s.a.createElement(l.d,{path:"/AddVocabulary",component:oe}),s.a.createElement(l.d,{path:"/VocabularyTraining",component:Ve}),s.a.createElement(l.d,{path:"/Settings",component:we}),s.a.createElement(l.d,{path:"/*",component:se})))},Fe=(a(150),function(){return r.a.createElement(d.BrowserRouter,null,r.a.createElement(E.a,null,r.a.createElement(Pe,null)))});a(151);Object(n.setGlobal)({user:"",progress:[1],numberOfVocab:25,direction:"fo_en",langName:"German",langID:"de",summary:[],progressSetting:3,serverError:!1}),Object(c.render)(r.a.createElement(Fe,null),document.getElementById("root"))},30:function(e,t,a){},88:function(e,t,a){e.exports=a.p+"static/media/003-plus.fbcff910.svg"},89:function(e,t,a){e.exports=a.p+"static/media/007-bearbeiten.2927f8de.svg"},90:function(e,t,a){e.exports=a.p+"static/media/005-liste.ad43a8d6.svg"},93:function(e){e.exports=JSON.parse('{"a":"0.0.7"}')}},[[101,1,2]]]);
//# sourceMappingURL=main.ad1d1513.chunk.js.map