(this.webpackJsonpflla=this.webpackJsonpflla||[]).push([[0],{106:function(e,a,t){e.exports=t(155)},152:function(e,a,t){},153:function(e,a,t){},155:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(29),s=t(0),o=t.n(s),l=t(12),u=t(4),i=t.n(u),m=t(8),p=t(3),b=t(47),d=t(48),f=t(58),g=t(57),h=t(91),v=t(40),E=function(e){Object(f.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(b.a)(this,t),(n=a.call(this,e)).state={userName:"",password:"",passwordRepeat:"",userNameHelp:"",passwordHelp:"",passwordRepeatHelp:""},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n}return Object(d.a)(t,[{key:"handleChange",value:function(e){var a=e.target,t=a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.props,t=a.createUser,n=a.login;switch(e.target.name){case"noAccount":t(this.state);break;default:n(this.state)}}},{key:"render",value:function(){var e=this.props.noAccount,a=this.props.userNameHelp,t=this.props.passwordHelp,n=this.props.passwordRepeatHelp;return e?o.a.createElement("fieldset",{className:"box"},o.a.createElement("form",{onSubmit:this.handleSubmit,name:"noAccount",id:"signUpForm"},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-username"},"User name"),o.a.createElement("div",{className:"col-lg-10 col-xs-12"},o.a.createElement("input",{name:"userName",type:"text",className:"form-control",id:"login-username",placeholder:"Choose a user name",defaultValue:this.state.userName,onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},a))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Password"),o.a.createElement("div",{className:"col-lg-10 col-xs-12"},o.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"login-password",placeholder:"Choose a password",onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},t))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Repeat password"),o.a.createElement("div",{className:"col-lg-10 col-xs-12"},o.a.createElement("input",{name:"passwordRepeat",type:"password",className:"form-control",id:"login-password",placeholder:"Repeat password",onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},n))),o.a.createElement("input",{type:"submit",value:"Sign Up",className:"btn btn-primary"}))):o.a.createElement("fieldset",{className:"box"},o.a.createElement("form",{onSubmit:this.handleSubmit,name:"hasAccount",id:"logInForm"},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-username"},"User name"),o.a.createElement("div",{className:"col-lg-10 col-xs-12"},o.a.createElement("input",{type:"username",className:"form-control",id:"login-username",placeholder:"Enter user name",name:"userName",onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},a))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Password"),o.a.createElement("div",{className:"col-lg-10 col-xs-12"},o.a.createElement("input",{type:"password",className:"form-control",id:"login-password",placeholder:"Enter password",name:"password",onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},t))),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Log in")))}}]),t}(o.a.Component),w=function(e){Object(f.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(b.a)(this,t),(n=a.call(this,e)).handleClick=function(){var e=n.props.emptyHelpFields;e(),!1===n.state.noAccount?n.setState({noAccount:!0,buttonText:"Already got an account?"}):(n.setState({noAccount:!1,buttonText:"No account?"}),e())},n.state={noAccount:!1,buttonText:"No account?"},n}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.createUser,t=e.login,n=this.props.userNameHelp,r=this.props.passwordHelp,c=this.props.passwordRepeatHelp;return o.a.createElement("div",null,o.a.createElement(E,{noAccount:this.state.noAccount,createUser:a,login:t,userNameHelp:n,passwordHelp:r,passwordRepeatHelp:c}),o.a.createElement("button",{type:"button",className:"btn btn-primary marginleft margin_top grey_button",onClick:this.handleClick},this.state.buttonText))}}]),t}(o.a.Component),O=(t(33),t(14)),j=t.n(O),y="http://localhost:8080",_=function(){var e=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",j.a.post("".concat(y,"/Users"),a));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(y,"/Users"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(i.a.mark((function e(a,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.patch("".concat(y,"/Users/").concat(a),{data:t});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(y,"/Vocab/"));case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(y,"/Vocab/insert"),a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(y,"/Vocab/getVocabAndTranslation"),a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(y,"/Vocab/getByIdArray"),a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(y,"/Languages"));case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(y,"/Vocab/getProgress"));case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(y,"/Vocab/getProgressByVocabId"),{params:{id:a}});case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(y,"/Vocab/filterProgress"),{params:a});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(y,"/Vocab/increaseRGIAR"),a);case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(y,"/Vocab/resetRGIAR"),a);case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(y,"/Vocab/increaseProgress"),a);case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(y,"/Vocab/getProgressForUserAndLanguage"),a);case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),T={getLanguages:function(){return G()}},D={createUser:function(e){return _(e)},fetchUsers:function(){return N()},editUser:function(e,a){return x(e,a)}},H={insert:function(e){return S(e)},getVocab:function(){return k()},getVocabAndTranslation:function(e){return C(e)},getVocabById:function(e){return V(e)}},B={getProgress:function(){return I()},getProgressByVocabId:function(e){return A(e)},filterProgress:function(e){return L(e)},getProgressForUserAndLanguage:function(e){return U(e)},increaseRGIAR:function(e){return P(e)},resetRGIAR:function(e){return R(e)},increaseProgress:function(e){return F(e)}},W=t(69),M=t.n(W);var q=function(){var e=Object(n.useGlobal)("auth"),a=Object(p.a)(e,2),t=a[0],c=a[1],s=Object(n.useGlobal)("user"),o=Object(p.a)(s,2)[1],u=Object(n.useState)(""),b=Object(p.a)(u,2),d=b[0],f=b[1],g=Object(n.useState)(""),h=Object(p.a)(g,2),v=h[0],E=h[1],O=Object(n.useState)(""),j=Object(p.a)(O,2),y=j[0],_=j[1];function N(){return(N=Object(m.a)(i.a.mark((function e(a){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.userName?a.userName:null,n=a.password?a.password:null,r=a.passwordRepeat?a.passwordRepeat:null,I(),S(t).then((function(e){return x(t,e,n,r)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,a,t,n){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(i.a.mark((function e(a,t,n,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V(a,n,r)){e.next=19;break}if(t&&f("Username is already taken. Please choose a different one."),n===r){e.next=7;break}E("Passwords don't match"),_("Passwords don't match"),e.next=17;break;case 7:return e.next=9,A(a);case 9:if(!e.sent){e.next=16;break}return console.info("Saving...",{userName:a,password:n,passwordRepeat:r}),s={username:a,password:n},e.abrupt("return",new M.a(function(){var e=Object(m.a)(i.a.mark((function e(a,t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.createUser(s);case 2:if(200!==(n=e.sent).status){e.next=6;break}return c(!0),e.abrupt("return",a(n.data));case 6:return c(!1),e.abrupt("return",t("Something went wrong"));case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()));case 16:f("Username already exists!");case 17:e.next=22;break;case 19:null==a&&f("Please enter a user name"),null==n&&E("Please enter a password"),null==r&&_("Please repeat the password");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(m.a)(i.a.mark((function e(a){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.fetchUsers();case 2:return t=e.sent,n=t.data.data,r=R(a,n),e.abrupt("return",!(void 0===r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,a,t){return null!=e&&null!=a&&null!=t}function G(e,a){return e.length>0&&a.length>0}function I(){f(""),E(""),_("")}function A(e){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.fetchUsers().then((function(e){return e.data.data}));case 2:t=e.sent,n=0;case 4:if(!(n<t.length)){e.next=12;break}if(t[n].username!==a){e.next=9;break}return console.log("username already exists"),e.abrupt("return",!1);case 9:n++,e.next=4;break;case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{new M.a(function(){var e=Object(m.a)(i.a.mark((function e(t,n){var r,s,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.fetchUsers();case 2:if(200!==(r=e.sent).status){e.next=11;break}return s=r.data.data,l=R(a.userName,s),u=!1,I(),G(a.userName,a.password)?(null!=l&&(u=F(l,a.password)),u?o(l._id):E("Wrong user name or password")):(0===a.userName.length&&f("Please enter your user name"),0===a.password.length&&E("Please enter your password")),c(u),e.abrupt("return",t(r.data));case 11:return c(!1),e.abrupt("return",n("Something went wrong"));case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}())}catch(t){console.error(t)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,a){try{var t=new Map;return a.forEach((function(e){t.set(e.username,e)})),t.get(e)}catch(n){console.error(n)}}function F(e,a){try{return e.password===a}catch(t){console.error(t)}}return r.a.createElement("div",null,t?r.a.createElement(l.c,{to:"/languages"}):null,r.a.createElement("h1",null,"Vocabulary Trainer"),r.a.createElement("h2",null,"Log in or sign up!"),r.a.createElement(w,{createUser:function(e){return N.apply(this,arguments)},login:function(e){return P.apply(this,arguments)},emptyHelpFields:I,userNameHelp:d,passwordHelp:v,passwordRepeatHelp:y}))},J=t(101),Y=t(102),z=t(160),K=function(){var e=Object(n.useGlobal)("auth"),a=Object(p.a)(e,2)[1];return r.a.createElement(J.a,{expand:"*",id:"navbar"},r.a.createElement(J.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"ml-auto"}),r.a.createElement(J.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Y.a,{className:"ml-auto"},r.a.createElement(z.a,{title:"Account",id:"basic-nav-dropdown",className:"menu_option"},r.a.createElement(z.a.Item,{className:"menu_option"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){a(!1)}},"Logout"))))))},Q=function(e){var a=e.language,t=a.language,c=a.id,s=e.getLanguage,o=Object(n.useGlobal)("langID"),l=Object(p.a)(o,2)[1],u=Object(n.useGlobal)("langName"),i=Object(p.a)(u,2)[1];return r.a.createElement("div",{className:"col-4"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(c,t),l(c),i(t)}},r.a.createElement("input",{type:"hidden",value:t,name:"language"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary margin_top col-lg-12 languages_option"},t)))},X=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getLanguages();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(n.useGlobal)("auth"),a=Object(p.a)(e,1)[0],t=Object(n.useGlobal)("langName"),r=Object(p.a)(t,2),c=r[0],u=r[1],i=Object(n.useGlobal)("langID"),m=Object(p.a)(i,2),b=m[0],d=m[1],f=Object(s.useState)([]),g=Object(p.a)(f,2),h=g[0],v=g[1],E=Object(s.useState)(!1),w=Object(p.a)(E,2),O=w[0],j=w[1];if(Object(s.useEffect)((function(){X().then((function(e){return v(e)}))}),[]),!a)return console.info("redirecting"),o.a.createElement(l.c,{to:"/"});var y=function(e,a){console.group("Language"),console.log("%c langID ","Background: #0CE66E",e),console.log("%c langName ","Background: #0CE6E2",a),console.groupEnd(),u(a),d(e),j(!0)};if(O)return o.a.createElement(l.c,{to:{pathname:"/VocabularyList",query:{langName:c,langID:b}}});var _=0;return o.a.createElement("div",null,o.a.createElement(K,null),o.a.createElement("h1",null,"Languages"),o.a.createElement("h2",null,"Select the language you want to practise."),o.a.createElement("div",{className:"row box"},h.map((function(e){return o.a.createElement(Q,{key:_++,language:e,getLanguage:y})}))))},$=t(18),ee=t(23),ae=function(){var e=Object(n.useGlobal)("auth"),a=Object(p.a)(e,2)[1];return r.a.createElement(J.a,{expand:"*",id:"navbar"},r.a.createElement(J.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"ml-auto"}),r.a.createElement(J.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Y.a,{className:"ml-auto"},r.a.createElement(ee.a,{className:"menu_padding"},r.a.createElement($.Link,{to:"/Languages",className:"menu_option"},"Change language")," "),r.a.createElement(ee.a,{className:"menu_padding"},r.a.createElement($.Link,{to:"/Settings",className:"menu_option"},"Settings")," "),r.a.createElement(z.a.Divider,null),r.a.createElement(z.a.Item,{className:"menu_option"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){a(!1)}},"Logout")))))},te=function(){var e=Object(m.a)(i.a.mark((function e(a,t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={vocab_id:a,lang_id:t},e.next=3,H.getVocabAndTranslation(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ne=function(e){var a=e.prog,t=a.vocab_id,c=a.progress,s=Object(n.useState)([]),o=Object(p.a)(s,2),l=o[0],u=o[1],i=Object(n.useGlobal)("langID"),m=Object(p.a)(i,1)[0];return Object(n.useEffect)((function(){te(t,m).then((function(e){return u(e)}))}),[]),r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-3 col-4 vocabulary_list_english"},l.vocab),r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4 vocabulary_list_foreign"},l.translation),r.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-3 col-4 vocabulary_list_progress"},c))},re=t(98),ce=t(61),se=t(56),oe=t(60),le=t(95),ue=t.n(le),ie=t(96),me=t.n(ie),pe=t(97),be=t.n(pe),de=(t(152),function(e){var a=Object(s.useState)(""),t=Object(p.a)(a,2),n=t[0],r=t[1],c=Object(s.useState)(""),l=Object(p.a)(c,2),u=l[0],i=l[1],m=Object(s.useState)(""),b=Object(p.a)(m,2),d=b[0],f=b[1];return Object(s.useEffect)((function(){switch(e.page){case"VocabularyTraining":r("active");break;case"AddVocabulary":i("active");break;case"VocabularyList":f("active");break;default:f("active")}}),[]),o.a.createElement("div",null,o.a.createElement(J.a,null,o.a.createElement(Y.a,{className:"fixed-bottom"},o.a.createElement(se.a,{className:"justify-content-center navcontainer"},o.a.createElement(re.a,{className:"navrow"},o.a.createElement(ce.a,{className:n},o.a.createElement(oe.LinkContainer,{className:"navItem",to:"/VocabularyTraining"},o.a.createElement(ee.a,null,o.a.createElement("img",{src:me.a,width:"20",height:"20",alt:"go to Training"}),o.a.createElement("p",null,"Train")))),o.a.createElement(ce.a,{className:u},o.a.createElement(oe.LinkContainer,{className:"navItem",to:"/AddVocabulary"},o.a.createElement(ee.a,null,o.a.createElement("img",{src:ue.a,width:"20",height:"20",alt:"add Vocabulary"}),o.a.createElement("p",null,"Add")))),o.a.createElement(ce.a,{className:d},o.a.createElement(oe.LinkContainer,{className:"navItem",to:"/VocabularyList"},o.a.createElement(ee.a,null,o.a.createElement("img",{src:be.a,width:"20",height:"20",alt:"go to overview"}),o.a.createElement("p",null,"Overview")))))))))}),fe=function(){var e=Object(m.a)(i.a.mark((function e(a,t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={user_id:a,lang_id:t},e.next=3,B.getProgressForUserAndLanguage(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ge=function(e){var a=Object(n.useGlobal)("auth"),t=Object(p.a)(a,1)[0],c=Object(n.useGlobal)("user"),s=Object(p.a)(c,1)[0],o=Object(n.useGlobal)("langID"),u=Object(p.a)(o,1)[0],i=Object(n.useGlobal)("langName"),m=Object(p.a)(i,1)[0],b=Object(n.useState)([]),d=Object(p.a)(b,2),f=d[0],g=d[1];if(Object(n.useEffect)((function(){fe(s,u).then((function(e){g(e)}))}),[]),!t)return r.a.createElement(l.c,{to:"/"});var h=f.map((function(e){return e})),v=0;return r.a.createElement("div",{id:"content",className:"vocabulary_list"},r.a.createElement(ae,null),r.a.createElement(de,{page:"VocabularyList"}),r.a.createElement("div",{id:"vocabulary_list"},r.a.createElement("h1",null,"Vocabulary overview"),r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-3 col-4 vocabulary_list_header"},"English"),r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4 vocabulary_list_header"},m),r.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-3 col-4 vocabulary_list_header"},"Progress")),h.map((function(e){return r.a.createElement(ne,{key:v++,prog:e})}))))},he=function(){var e=Object(n.createRef)(),a=Object(n.useGlobal)("auth"),t=Object(p.a)(a,1)[0],c=Object(n.useGlobal)("langID"),s=Object(p.a)(c,1)[0],o=Object(n.useState)(""),u=Object(p.a)(o,2),b=u[0],d=u[1],f=Object(n.useState)(""),g=Object(p.a)(f,2),h=g[0],v=g[1],E=Object(n.useGlobal)("user"),w=Object(p.a)(E,1)[0],O=Object(n.useState)(!1),j=Object(p.a)(O,2),y=j[0],_=j[1];if(!t)return r.a.createElement(l.c,{to:"/"});var N=function(){var a=Object(m.a)(i.a.mark((function a(t){var n,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),_(!0),n={language_id:s,english_word:e.current.value,user_id:w},a.next=5,H.insert(n);case 5:!0===(r=a.sent).success?(v(r.info),d("right")):(v(r.error),d("wrong")),_(!1);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{id:"content",className:"add_vocabulary"},r.a.createElement(ae,null),r.a.createElement(de,{page:"AddVocabulary"}),r.a.createElement("form",null,r.a.createElement("h1",null,"Add vocabulary"),r.a.createElement("h2",null,"Enter the word you want to add"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-2 col-12 no_padding_left",htmlFor:"add_vocabulary_english"},"English"),r.a.createElement("input",{type:"text",className:"form-control col-lg-10 col-12",id:"add_vocabulary_english",placeholder:"type in English word",ref:e})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:N,disabled:y},y?r.a.createElement("div",{className:"spinner-border ",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):"Add vocabulary"),r.a.createElement($.Link,{to:"/VocabularyList"},r.a.createElement("button",{type:"button",className:"btn btn-primary margin_left grey_button"},"Show overview"))),r.a.createElement("div",{className:"inline_block margin_top "+b},h))},ve=function(e){var a=Object(n.useGlobal)("language"),t=Object(p.a)(a,1)[0],c=Object(n.useState)(0),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)(!0),i=Object(p.a)(u,2),m=i[0],b=i[1],d=Object(n.useState)(!0),f=Object(p.a)(d,2),g=f[0],h=f[1],v=Object(n.useState)(!0),E=Object(p.a)(v,2),w=E[0],O=E[1],j=Object(n.useState)(!1),y=Object(p.a)(j,2),_=y[0],N=y[1],x=function(e){var a=e.target,t=a.value;switch(a.name){case"vocabNumber":l(t);break;case"progress1":b(!m);break;case"progress2":h(!g);break;case"progress3":O(!w);break;case"training_options_radios":N(t);break;default:console.error("Oh..")}},k=e.showButton;return r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),(0,e.receiveInput)({vocabNumber:o,progress1:m,progress2:g,progress3:w,training_options_radios:_}),e.onClick()}},r.a.createElement("h2",null,"Please set your training prefrences"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no_padding_left",htmlFor:"training_options_amount"},"How many vocabulary do you want to practise?"),r.a.createElement("input",{type:"number",className:"form-control col-lg-8 col-xs-12",id:"training_options_amount",defaultValue:25,name:"vocabNumber",onChange:x})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no_padding_left",htmlFor:"training_options_amount"},"Train vocabulary with following progress:"),r.a.createElement("div",{className:"col-lg-8 col-xs-12"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:m,id:"training_options_check_1",name:"progress1",checked:m,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_1"},"1")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:g,id:"training_options_check_2",name:"progress2",checked:g,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_2"},"2")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:w,id:"training_options_check_2",name:"progress3",checked:w,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_2"},"3")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no_padding_left",htmlFor:"training_options_direction"},"Direction"),r.a.createElement("div",{className:"col-lg-8 col-xs-12"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"training_options_radios",id:"training_options_radios_1",value:"en_fo",onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_radios_1"},"Show English, ask ".concat(t))),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"training_options_radios",id:"training_options_radios_2",value:"fo_en",onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_radios_2"},"Show ".concat(t,", ask English"))))),k?r.a.createElement("button",{type:"submit",className:"btn btn-primary margin_top"},"Start training"):null)},Ee=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.filterProgress(a);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),we=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getVocabById(a);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Oe=function(e){var a=Object(n.useState)([]),t=Object(p.a)(a,2),c=t[0],s=t[1],o=Object(n.useGlobal)("langID"),l=Object(p.a)(o,1)[0],u=Object(n.useState)(0),b=Object(p.a)(u,2),d=b[0],f=b[1],g=Object(n.useState)(""),h=Object(p.a)(g,2),v=h[0],E=h[1],w=Object(n.useGlobal)("summary"),O=Object(p.a)(w,2),j=O[0],y=O[1],_=Object(n.useGlobal)("user"),N=Object(p.a)(_,1)[0],x=Object(n.useGlobal)("progress"),k=Object(p.a)(x,1)[0],S=Object(n.useState)(null),C=Object(p.a)(S,2),V=C[0],G=C[1],I=Object(n.useState)(null),A=Object(p.a)(I,2),L=A[0],P=A[1],R=Object(n.useState)(0),F=Object(p.a)(R,2),U=F[0],T=F[1];Object(n.useEffect)((function(){Ee({user_id:N,language_id:l,progress:k}).then((function(e){e.success&&(H(e.data),y([]))}))}),[]);var D=function(){var a=Object(m.a)(i.a.mark((function a(t){var n,r,s,o,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),n=c[d],(r=j).push({currentWord:n,input:v}),y(r),s={user_id:N,vocab_id:n._id,lang_id:l},!v){a.next=21;break}if(v.toLowerCase().trim()!==n.translation[l].toLowerCase()){a.next=17;break}return f(d+1),E(""),P(""),a.next=13,B.increaseRGIAR(s);case 13:1===(o=a.sent).progress?2===o.right_guesses_in_a_row&&(B.increaseProgress(s),console.info("%c Progress updated!","Background: #00ff55")):2===o.progress?2!==o.right_guesses_in_a_row&&5!==o.right_guesses_in_a_row||(B.increaseProgress(s),console.info("%c Progress updated!","Background: #33ff77")):console.info("%c Maximum Progress level already achieved!","Background: #0f0"),a.next=21;break;case 17:B.resetRGIAR(s),T(U+1),U>=1&&(u="fo_en"===e.direction?n.translation[l]:n.english_word,P(u));case 21:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),H=function(){var a=Object(m.a)(i.a.mark((function a(t){var n,r,c,o,l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.numberOfVocabs,r=[],t.forEach((function(e){r.push(e.vocab_id)})),a.next=5,we(r).then((function(e){return e.data}));case 5:for(c=a.sent,o=[],c.length<n&&(G("Your selection contains only ".concat(c.length," words.")),W());o.length<c.length&&o.length<n;)l=Math.floor(Math.random()*c.length+0),o.includes(c[l])||o.push(c[l]);s(o);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),W=function(){setTimeout((function(){G(null)}),5e3)};return r.a.createElement("div",{className:"margin_top"},d<c.length?r.a.createElement("form",null,V?r.a.createElement("p",{className:"bg-warning p-1"},V):null,r.a.createElement("h2",null,"Translate! ".concat(d+1,"/").concat(c.length)),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-xs-12 no_padding_left",htmlFor:"train_vocabulary_translation"},c[d]?"fo_en"===e.direction?c[d].english_word:c[d].translation[l]:"error"),r.a.createElement("input",{type:"text",className:"form-control col-lg-9 col-xs-12",id:"train_vocabulary_translation",placeholder:"type in translation",name:"translationInput",onChange:function(e){var a=e.target.value;E(a)},value:v})),L?r.a.createElement("p",{className:"alert-success"},"Translation: ",L):null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:D},"Submit and continue"),r.a.createElement("button",{type:"button",className:"btn btn-secondary ml-1",onClick:function(){f(d+1)}},"Skip")):r.a.createElement("div",null,"Completed! Show summary?"))},je=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getProgressByVocabId(a);case 2:return t=e.sent,e.prev=3,e.abrupt("return",t.progress);case 7:e.prev=7,e.t0=e.catch(3),console.error(e.t0);case 10:return e.abrupt("return",-1);case 11:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(a){return e.apply(this,arguments)}}(),ye=function(e){var a=e.vocab,t=e.input,c=e.correct,s=e.vocabID,o=Object(n.useState)(null),l=Object(p.a)(o,2),u=l[0],i=l[1];return Object(n.useEffect)((function(){je(s).then((function(e){i(e)}))}),[]),r.a.createElement("div",{className:"row vocabulary_list_entry ".concat(c.toLowerCase()===t.toLowerCase()?"right":"wrong")},r.a.createElement("div",{className:"col-3"},a),r.a.createElement("div",{className:"col-3"},t),r.a.createElement("div",{className:"col-3"},c),r.a.createElement("div",{className:"col-3"},u))},_e=function(e){var a=Object(n.useGlobal)("summary"),t=Object(p.a)(a,1)[0],c=Object(n.useGlobal)("langID"),s=Object(p.a)(c,1)[0],o=0;return r.a.createElement("div",{id:"training_summary",className:"margin_top"},r.a.createElement("h2",null,"Training summary"),r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Given word"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Your translation"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Correct translation"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Current Progress")),t.map((function(e){return r.a.createElement(ye,{key:o++,vocab:e.currentWord.english_word,input:e.input,correct:e.currentWord.translation[s],vocabID:e.currentWord._id})})))};var Ne=function(){var e=Object(n.useGlobal)("auth"),a=Object(p.a)(e,1)[0],t=Object(n.useState)(!0),c=Object(p.a)(t,2),s=c[0],o=c[1],u=Object(n.useState)(!1),i=Object(p.a)(u,2),m=i[0],b=i[1],d=Object(n.useState)(!1),f=Object(p.a)(d,2),g=f[0],h=f[1],v=Object(n.useState)("options"),E=Object(p.a)(v,2),w=E[0],O=E[1],j=Object(n.useState)("Start training"),y=Object(p.a)(j,2),_=y[0],N=y[1],x=Object(n.useState)(!1),k=Object(p.a)(x,2),S=k[0],C=k[1],V=Object(n.useGlobal)("numberOfVocab"),G=Object(p.a)(V,2),I=G[0],A=G[1],L=Object(n.useGlobal)("progress"),P=Object(p.a)(L,2),R=P[0],F=P[1],U=Object(n.useGlobal)("direction"),T=Object(p.a)(U,2),D=T[0],H=T[1],B=Object(n.useGlobal)("language"),W=Object(p.a)(B,1)[0];if(!a)return r.a.createElement(l.c,{to:"/"});var M=function(){"options"===w?(O("queries"),o(!1),b(!0),h(!1),N("Stop training")):"queries"===w?(O("summary"),o(!1),b(!1),h(!0),N("Start new training")):"summary"===w&&(O("options"),o(!0),b(!1),h(!1),N("Start training"),C(!1))};return r.a.createElement("div",{id:"content",className:"vocabulary_training"},r.a.createElement(ae,null),r.a.createElement(de,{page:"VocabularyTraining"}),r.a.createElement("h1",null,"Vocabulary Training"),s&&!S?r.a.createElement(ve,{receiveInput:function(e){C(!0),0===e.vocabNumber?A(25):A(e.vocabNumber);var a=[];e.progress1&&a.push(1),e.progress2&&a.push(2),e.progress3&&a.push(3),F(a),e.training_options_radios&&H(e.training_options_radios)},showButton:!S,onClick:M}):null,m?r.a.createElement(Oe,{show:!1,numberOfVocabs:I,progress:R,direction:D,language:W}):null,g?r.a.createElement(_e,{show:!1}):null,S?r.a.createElement("button",{type:"button",className:"btn btn-primary margin_top",onClick:M},"".concat(_)):null)},xe=t(37),ke=t(43);var Se=function(){var e=Object(n.useGlobal)("auth"),a=Object(p.a)(e,1)[0],t=Object(n.useGlobal)("user"),c=Object(p.a)(t,1)[0],o=Object(s.createRef)(),u=Object(s.createRef)(),b=Object(s.useState)(!1),d=Object(p.a)(b,2),f=d[0],g=d[1],h=Object(s.useState)(!1),v=Object(p.a)(h,2),E=v[0],w=v[1];if(!a)return r.a.createElement(l.c,{to:"/"});var O=function(e){e.preventDefault(),g(!1)},j=function(){var e=Object(m.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={right_guesses_in_a_row:u.current.value,username:o.current.value},e.next=4,D.editUser(c,t);case 4:e.sent.data.success&&w(!0);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"content",className:"settings"},r.a.createElement(ae,null),r.a.createElement(de,null),r.a.createElement("form",null,r.a.createElement("h1",null,"Settings"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-10 col-xs-12 no_padding_left",htmlFor:"settings"},"How many correct answers in a row lead to a new progress level?"),r.a.createElement("input",{type:"number",className:"form-control col-lg-2 col-xs-12",id:"settings",placeholder:"",ref:u})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-10 col-xs-12 no_padding_left",htmlFor:"settings"},"Change Username"),r.a.createElement("input",{type:"text",className:"form-control col-lg-2 col-xs-12",id:"settings",placeholder:"",ref:o})),r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),g(!0)}},"Save settings")),r.a.createElement(xe.a,{show:f,onHide:O},r.a.createElement(xe.a.Header,{closeButton:!0},r.a.createElement(xe.a.Title,null,"Warning")),r.a.createElement(xe.a.Body,null,E?"changed.":"Are you sure,that you want to make these changes ?"),r.a.createElement(xe.a.Footer,null,r.a.createElement(ke.a,{variant:"secondary",onClick:O},"Close"),!E&&r.a.createElement(ke.a,{variant:"primary",onClick:j},"Save Changes"))))},Ce=function(){return o.a.createElement("main",null,o.a.createElement(l.g,null,o.a.createElement(l.d,{exact:!0,path:"/",component:q}),o.a.createElement(l.d,{path:"/Languages",component:Z}),o.a.createElement(l.d,{path:"/VocabularyList",component:ge}),o.a.createElement(l.d,{path:"/AddVocabulary",component:he}),o.a.createElement(l.d,{path:"/VocabularyTraining",component:Ne}),o.a.createElement(l.d,{path:"/Settings",component:Se})))},Ve=(t(153),function(){return o.a.createElement($.BrowserRouter,null,o.a.createElement(se.a,null,o.a.createElement(Ce,null)))});t(154);Object(n.setGlobal)({auth:!1,user:null,progress:[1],numberOfVocab:25,direction:"fo_en",langName:null,langID:null,summary:[]}),Object(c.render)(r.a.createElement(Ve,null),document.getElementById("root"))},33:function(e,a,t){},95:function(e,a,t){e.exports=t.p+"static/media/003-plus.fbcff910.svg"},96:function(e,a,t){e.exports=t.p+"static/media/007-bearbeiten.2927f8de.svg"},97:function(e,a,t){e.exports=t.p+"static/media/005-liste.ad43a8d6.svg"}},[[106,1,2]]]);
//# sourceMappingURL=main.d1292df4.chunk.js.map