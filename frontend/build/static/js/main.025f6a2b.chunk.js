(this.webpackJsonpflla=this.webpackJsonpflla||[]).push([[0],{106:function(e,t,a){e.exports=a(157)},131:function(e,t,a){},151:function(e,t,a){e.exports=a.p+"static/media/error.fec60437.svg"},154:function(e){e.exports=JSON.parse('{"vocabulary":["hello","please","thank you","morning","noon","evening","night","monday","friday","saturday","sunday","spring","summer","autumn","year","month","week","day","hour","second","you","he","she","it","we","they","yellow","red","purple","blue","green","brown","grey","black","have","walk","see","write","read","give","want","the","and","or","but","with","to","about","why","because","here","there","from","what","pear","banana","strawberry","tomato","salad","melon","earth","people","family","woman","man","child","mother","father","daughter","son","grandma","grandpa","sister","brother","girl","boy","aunt","language","learn","vocabulary","word"]}')},155:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(32),s=a(0),o=a.n(s),l=a(12),u=a(4),i=a.n(u),m=a(7),p=a(3),d=a(23),b=(a(30),a(101)),g=a(102),f=a(97),h=a(61),v=a(14),E=a(52),w=a(16),O=a(93),j=a.n(O),y=a(94),N=a.n(y),_=a(95),x=a.n(_),k=(a(131),function(e){var t=Object(s.useState)(""),a=Object(p.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),l=Object(p.a)(c,2),u=l[0],i=l[1],m=Object(s.useState)(""),d=Object(p.a)(m,2),O=d[0],y=d[1];return Object(s.useEffect)((function(){switch(e.page){case"VocabularyTraining":r("active");break;case"AddVocabulary":i("active");break;case"VocabularyList":y("active");break;default:y("active")}}),[]),o.a.createElement("div",null,o.a.createElement("style",null,"\n                .navItem{\n                }\n                "),o.a.createElement(b.a,null,o.a.createElement(g.a,{className:"fixed-bottom"},o.a.createElement(E.a,{className:"justify-content-center navcontainer"},o.a.createElement(f.a,{className:"navrow",style:{backgroundColor:"white"}},o.a.createElement(h.a,{className:n},o.a.createElement(w.LinkContainer,{className:"navItem",to:"/VocabularyTraining"},o.a.createElement(v.a,null,o.a.createElement("img",{className:"svg",src:N.a,width:"20",height:"20",alt:"go to Training"}),o.a.createElement("p",null,"Train")))),o.a.createElement(h.a,{className:u},o.a.createElement(w.LinkContainer,{className:"navItem",to:"/AddVocabulary"},o.a.createElement(v.a,null,o.a.createElement("img",{src:j.a,width:"20",height:"20",alt:"add Vocabulary"}),o.a.createElement("p",null,"Add")))),o.a.createElement(h.a,{className:O},o.a.createElement(w.LinkContainer,{className:"navItem",to:"/VocabularyList"},o.a.createElement(v.a,null,o.a.createElement("img",{src:x.a,width:"20",height:"20",alt:"go to overview"}),o.a.createElement("p",null,"Overview")))))))))}),S=a(162),C=function(e){var t=Object(n.useGlobal)("auth"),a=Object(p.a)(t,2)[1];function c(){a(!1)}return r.a.createElement(b.a,{expand:"lg",id:"navbar",className:"white-background",sticky:"top"},r.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"ml-auto"}),r.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto"},e.width>700&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.LinkContainer,{to:"/VocabularyList",className:"menu_option vocabulary_list"},r.a.createElement(v.a,{className:"menu_padding"},"Overview")),r.a.createElement(w.LinkContainer,{to:"/AddVocabulary",className:"menu_option add_vocabulary"},r.a.createElement(v.a,{className:"menu_padding"},"Add Vocabulary")),r.a.createElement(w.LinkContainer,{to:"/VocabularyTraining",className:"menu_option vocabulary_training"},r.a.createElement(v.a,{className:"menu_padding"},"Training"))),e.width>700?r.a.createElement(S.a,{className:"mr-sm-2 menu_option",id:"basic-nav-dropdown",title:"Settings"},r.a.createElement(S.a.Item,{className:"menu_option"},r.a.createElement(w.LinkContainer,{to:"/Languages",className:"menu_option mr-sm-2"},r.a.createElement(v.a,{className:"menu_padding"},"Change language"))),r.a.createElement(S.a.Item,{className:"menu_option"},r.a.createElement(w.LinkContainer,{to:"/Settings",className:"menu_option settings"},r.a.createElement(v.a,{className:"menu_padding"},"Account settings"))),r.a.createElement(S.a.Item,{className:"menu_option"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:c},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.LinkContainer,{to:"/Languages",className:"menu_option mr-sm-2"},r.a.createElement(v.a,{className:"menu_padding"},"Change language"))," ",r.a.createElement(w.LinkContainer,{to:"/Settings",className:"menu_option settings"},r.a.createElement(v.a,{className:"menu_padding"},"Account settings")),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:c},"Logout")))))},G=a(13),L=a.n(G),V="http://localhost:8080",A=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.a.get("".concat(V,"/Users/status")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",L.a.post("".concat(V,"/Users"),t));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("".concat(V,"/Users"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Users/getIdForUserName"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.patch("".concat(V,"/Users/").concat(t),{data:a});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.delete("".concat(V,"/Users/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("".concat(V,"/Vocab/"));case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/insert"),t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/getVocabAndTranslation"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/getByIdArray"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("".concat(V,"/Languages"));case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("".concat(V,"/Vocab/getProgress"));case 3:return t=e.sent,e.abrupt("return",t.data&&t.data?t.data.data:t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/searchProgress"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("".concat(V,"/Vocab/filterProgress"),{params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/increaseRGIAR"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/resetRGIAR"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/increaseProgress"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/getProgressForUserAndLanguage"),t);case 3:return a=e.sent,e.abrupt("return",a.data&&a.data?a.data.data:a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(V,"/Vocab/createProgress"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Z={getLanguages:function(){return W()}},$={createUser:function(e){return P(e)},fetchUsers:function(){return I()},editUser:function(e,t){return U(e,t)},getIdForUserName:function(e){return F(e)},deleteUser:function(e){return R(e)}},ee={insert:function(e){return D(e)},getVocab:function(){return T()},getVocabAndTranslation:function(e){return H(e)},getVocabById:function(e){return B(e)}},te={getProgress:function(){return M()},searchProgress:function(e){return Y(e)},filterProgress:function(e){return q(e)},getProgressForUserAndLanguage:function(e){return Q(e)},increaseRGIAR:function(e){return J(e)},resetRGIAR:function(e){return z(e)},increaseProgress:function(e){return K(e)},createProgress:function(e){return X(e)}},ae={get:function(){return A()}},ne=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();function re(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function ce(){var e=Object(s.useState)(re()),t=Object(p.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){function e(){n(re())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}var se=function(){var e=Object(n.useGlobal)("auth"),t=Object(p.a)(e,1)[0],a=Object(n.useGlobal)("langID"),c=Object(p.a)(a,1)[0],s=Object(n.useGlobal)("serverError"),o=Object(p.a)(s,2),u=o[0],b=o[1],g=Object(n.useGlobal)("user"),f=Object(p.a)(g,1)[0],h=Object(n.useState)(""),v=Object(p.a)(h,2),E=v[0],w=v[1],O=Object(n.useState)(""),j=Object(p.a)(O,2),y=j[0],N=j[1],_=Object(n.useState)(!1),x=Object(p.a)(_,2),S=x[0],G=x[1],L=Object(n.createRef)(),V=ce().width;if(Object(n.useEffect)((function(){ne().then((function(e){b(!e)}))}),[]),!t)return r.a.createElement(l.c,{to:"/"});var A=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(""),w("no-color"),G(!0),a={language_id:c,english_word:L.current.value,user_id:f},e.next=7,ee.insert(a);case 7:if(200!==(n=e.sent).status){e.next=15;break}return e.next=11,te.createProgress(a);case 11:(r=e.sent).success?r.didAlreadyExist?(N("This word is already in your collection."),w("info")):(N("Your word was successfully added."),w("right")):(N("An error occured. Please try again later."),w("wrong")),e.next=18;break;case 15:console.log("addVocab -> res",n),N("Word not found. Please check the spelling."),w("wrong");case 18:G(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"content",className:"add_vocabulary"},r.a.createElement(C,{width:V}),V<700&&r.a.createElement(k,{page:"AddVocabulary"}),u?r.a.createElement(l.c,{to:"/Error"}):r.a.createElement("form",null,r.a.createElement("h1",{className:"margin_top_small"},"Add vocabulary"),r.a.createElement("h2",null,"Enter the word you want to add"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-2 col-md-3 col-sm-3 col-12 no-padding-left",htmlFor:"add_vocabulary_english"},"English"),r.a.createElement("input",{type:"text",className:"form-control col-lg-10 col-md-9 col-sm-9 col-12",id:"add_vocabulary_english",placeholder:"type in English word",ref:L})),r.a.createElement("button",{type:"submit",className:"btn btn-primary margin_top_small",onClick:A,disabled:S},S?r.a.createElement("div",{className:"spinner-border ",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):"Add vocabulary"),r.a.createElement(d.Link,{to:"/VocabularyList"},r.a.createElement("button",{type:"button",className:"btn btn-primary margin_left grey_button margin_top_small"},"Show overview"))),r.a.createElement("div",{className:"p-1 inline_block margin_top "+E},y))},oe=function(){var e=Object(n.useGlobal)("serverError"),t=Object(p.a)(e,2)[1],c=Object(n.useState)(!0),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)(!1),i=Object(p.a)(u,2),m=i[0],b=i[1];Object(n.useEffect)((function(){ne().then((function(e){t(!e)}))}),[]);var g=function(){b(!0),ne().then((function(e){e?(t(!1),l(!1),b(!1)):(t(!0),l(!0),setInterval((function(){b(!1)}),3e3))}))};return r.a.createElement("div",null,r.a.createElement("h1",{className:"margin_top_small"},"Oh no!"),r.a.createElement("div",{className:"d-flex p-2 flex-column"},r.a.createElement("img",{style:{height:"350px"},src:a(151),className:"m-4",alt:"error-icon"}),o?r.a.createElement("div",{className:"alert alert-danger m-4"},"Network Error! Please try again later!"):null,r.a.createElement("div",{className:"alert alert-warning m-4 d-flex justify-content-between align-items-center"},"Check Server Status: ".concat(o?"Still down \ud83d\ude14":"Up Again! \ud83d\ude03"),m?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):null,r.a.createElement("button",{type:"button",className:"btn-warning btn btn-primary",onClick:g},"Check")),o?null:r.a.createElement(d.Link,{to:"/",className:"m-4"},r.a.createElement("button",{type:"button",className:"btn-success btn btn-primary w-100",onClick:g},"Back to login!"))))},le=a(71),ue=a.n(le),ie=a(56),me=a(57),pe=a(59),de=a(58),be=a(98),ge=a(45),fe=function(e){Object(pe.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ie.a)(this,a),(n=t.call(this,e)).state={userName:"",password:"",passwordRepeat:"",userNameHelp:"",passwordHelp:"",passwordRepeatHelp:""},n.handleChange=n.handleChange.bind(Object(ge.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ge.a)(n)),n}return Object(me.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(be.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,a=t.createUser,n=t.login;switch(e.target.name){case"noAccount":a(this.state);break;default:n(this.state)}}},{key:"render",value:function(){var e=this.props.noAccount,t=this.props.userNameHelp,a=this.props.passwordHelp,n=this.props.passwordRepeatHelp;return e?o.a.createElement("fieldset",{className:"box"},o.a.createElement("form",{onSubmit:this.handleSubmit,name:"noAccount",id:"signUpForm"},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-username"},"User name"),o.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},o.a.createElement("input",{name:"userName",type:"text",className:"form-control",id:"login-username",placeholder:"Choose a user name",defaultValue:this.state.userName,onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},t))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Password"),o.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},o.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"login-password",placeholder:"Choose a password",onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},a))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Repeat password"),o.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},o.a.createElement("input",{name:"passwordRepeat",type:"password",className:"form-control",id:"login-password",placeholder:"Repeat password",onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},n))),o.a.createElement("input",{type:"submit",value:"Sign Up",className:"btn btn-primary"}))):o.a.createElement("fieldset",{className:"box"},o.a.createElement("form",{onSubmit:this.handleSubmit,name:"hasAccount",id:"logInForm"},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-username"},"User name"),o.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},o.a.createElement("input",{type:"username",className:"form-control",id:"login-username",placeholder:"Enter user name",name:"userName",onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},t))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-lg-2 col-xs-12 no-padding",htmlFor:"login-password"},"Password"),o.a.createElement("div",{className:"col-lg-10 col-xs-12 no-padding"},o.a.createElement("input",{type:"password",className:"form-control",id:"login-password",placeholder:"Enter password",name:"password",onChange:this.handleChange}),o.a.createElement("small",{className:"form-text text-muted"},a))),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Log in")))}}]),a}(o.a.Component),he=function(e){Object(pe.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ie.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=n.props.emptyHelpFields;e(),!1===n.state.noAccount?n.setState({noAccount:!0,buttonText:"Already got an account?"}):(n.setState({noAccount:!1,buttonText:"No account?"}),e())},n.state={noAccount:!1,buttonText:"No account?"},n}return Object(me.a)(a,[{key:"render",value:function(){var e=this.props,t=e.createUser,a=e.login,n=this.props.userNameHelp,r=this.props.passwordHelp,c=this.props.passwordRepeatHelp;return o.a.createElement("div",null,o.a.createElement(fe,{noAccount:this.state.noAccount,createUser:t,login:a,userNameHelp:n,passwordHelp:r,passwordRepeatHelp:c}),o.a.createElement("button",{type:"button",className:"btn btn-primary marginleft margin_top grey_button",onClick:this.handleClick},this.state.buttonText))}}]),a}(o.a.Component);var ve=function(){var e=Object(n.useGlobal)("progressSetting"),t=Object(p.a)(e,2)[1],a=Object(n.useGlobal)("user"),c=Object(p.a)(a,2)[1],s=Object(n.useGlobal)("auth"),o=Object(p.a)(s,2),u=o[0],d=o[1],b=Object(n.useGlobal)("serverError"),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(n.useState)(""),E=Object(p.a)(v,2),w=E[0],O=E[1],j=Object(n.useState)(""),y=Object(p.a)(j,2),N=y[0],_=y[1],x=Object(n.useState)(""),k=Object(p.a)(x,2),S=k[0],C=k[1];function G(){return(G=Object(m.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.userName?t.userName:null,n=t.password?t.password:null,r=t.passwordRepeat?t.passwordRepeat:null,U(),A(a).then((function(e){return L(a,e,n,r)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,a,n){return V.apply(this,arguments)}function V(){return(V=Object(m.a)(i.a.mark((function e(t,a,n,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!I(t,n,r)){e.next=20;break}if(!0===a&&C("Username is already taken. Please choose a different one."),n===r){e.next=8;break}O("Passwords don't match"),_("Passwords don't match"),e.next=18;break;case 8:return e.next=10,R(t);case 10:if(!e.sent){e.next=17;break}return console.info("Saving...",{userName:t,password:n,passwordRepeat:r}),s={username:t,password:n},e.abrupt("return",new ue.a(function(){var e=Object(m.a)(i.a.mark((function e(a,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.createUser(s);case 2:if(!(r=e.sent)){e.next=11;break}if(200!==r.status){e.next=11;break}return d(!0),e.next=8,B(t);case 8:return o=e.sent,c(o),e.abrupt("return",a(r.data));case 11:return d(!1),e.abrupt("return",n("Something went wrong while trying to authenticate!"));case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 17:C("Username already exists!");case 18:e.next=23;break;case 20:null==t&&C("Please enter a user name"),null==n&&O("Please enter a password"),null==r&&_("Please repeat the password");case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),console.log(e.t0),h(!0);case 29:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}function A(e){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.fetchUsers();case 3:return a=e.sent,n=a.data.data,r=H(t,n),e.abrupt("return",!(void 0===r));case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function I(e,t,a){return null!=e&&null!=t&&null!=a}function F(e,t){return e.length>0&&t.length>0}function U(){C(""),O(""),_("")}function R(e){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.fetchUsers().then((function(e){return e.data.data}));case 2:a=e.sent,n=0;case 4:if(!(n<a.length)){e.next=12;break}if(a[n].username!==t){e.next=9;break}return console.log("Username already exists"),e.abrupt("return",!1);case 9:n++,e.next=4;break;case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{new ue.a(function(){var e=Object(m.a)(i.a.mark((function e(n,r){var s,o,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.fetchUsers();case 2:if(!(s=e.sent)){e.next=12;break}if(200!==s.status){e.next=12;break}return o=s.data.data,l=H(a.userName,o),u=!1,U(),F(a.userName,a.password)?(null!=l&&(u=M(l,a.password)),u?(c(l._id),t(l.right_guesses_in_a_row)):O("Wrong user name or password")):(0===a.userName.length&&C("Please enter your user name"),0===a.password.length&&O("Please enter your password")),d(u),e.abrupt("return",n(s.data));case 12:return h(!0),e.abrupt("return",r("Something went wrong"));case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){try{var a=new Map;return t.forEach((function(e){a.set(e.username,e)})),a.get(e)}catch(n){console.error(n)}}function B(e){return W.apply(this,arguments)}function W(){return(W=Object(m.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:t},e.next=3,$.getIdForUserName(a);case 3:return n=e.sent,r=n.userId,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){try{return e.password===t}catch(a){console.error(a)}}return Object(n.useEffect)((function(){ne().then((function(e){h(!e)}))}),[]),r.a.createElement("div",null,u?r.a.createElement(l.c,{to:"/languages"}):null,r.a.createElement("h1",{className:"margin_top_small"},"Vocabulary Trainer"),r.a.createElement("h2",null,"Log in or sign up!"),f?r.a.createElement(l.c,{to:"/Error"}):r.a.createElement(he,{createUser:function(e){return G.apply(this,arguments)},login:function(e){return D.apply(this,arguments)},emptyHelpFields:U,userNameHelp:S,passwordHelp:w,passwordRepeatHelp:N}))},Ee=function(e){var t=e.language,a=t.language,c=t.id,s=e.getLanguage,o=Object(n.useGlobal)("langID"),l=Object(p.a)(o,2)[1],u=Object(n.useGlobal)("langName"),i=Object(p.a)(u,2)[1];return r.a.createElement("div",{className:"col-lg-4 col-6"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(c,a),l(c),i(a)}},r.a.createElement("input",{type:"hidden",value:a,name:"language"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary margin_top col-lg-12 languages_option"},a)))},we=function(){var e=Object(n.useGlobal)("auth"),t=Object(p.a)(e,2)[1];return r.a.createElement(b.a,{id:"navbar",sticky:"top",className:"white-background",expand:"*"},r.a.createElement(g.a,{className:"ml-auto"},r.a.createElement(S.a,{title:"Account",id:"basic-nav-dropdown"},r.a.createElement(S.a.Item,null,r.a.createElement(w.LinkContainer,{to:"/Settings",className:"menu_option settings"},r.a.createElement(v.a,{className:"menu_padding"},"Account settings"))),r.a.createElement(S.a.Item,{className:"menu_option"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){t(!1)}},"Logout")))))},Oe=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getLanguages();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(n.useGlobal)("auth"),t=Object(p.a)(e,1)[0],a=Object(n.useGlobal)("langName"),r=Object(p.a)(a,2),c=r[0],u=r[1],i=Object(n.useGlobal)("langID"),m=Object(p.a)(i,2),d=m[0],b=m[1],g=Object(s.useState)([]),f=Object(p.a)(g,2),h=f[0],v=f[1],E=Object(s.useState)(!1),w=Object(p.a)(E,2),O=w[0],j=w[1],y=Object(n.useGlobal)("serverError"),N=Object(p.a)(y,2),_=N[0],x=N[1];if(Object(s.useEffect)((function(){_||ne().then((function(e){x(!e)}))}),[]),Object(s.useEffect)((function(){Oe().then((function(e){e&&v(e)}))}),[]),!t)return o.a.createElement(l.c,{to:"/"});var k=function(e,t){console.group("Language"),console.log("%c langID ","Background: #0CE66E",e),console.log("%c langName ","Background: #0CE6E2",t),console.groupEnd(),u(t),b(e),j(!0)};if(O)return o.a.createElement(l.c,{to:{pathname:"/VocabularyList",query:{langName:c,langID:d}}});var S=0;return o.a.createElement("div",null,o.a.createElement(we,null),_?o.a.createElement(l.c,{to:"/Error"}):o.a.createElement(o.a.Fragment,null," ",o.a.createElement("h1",{className:"margin_top_small"},"Languages"),o.a.createElement("h2",null,"Select the language you want to practise."),o.a.createElement("div",{className:"row box"},h.map((function(e){return o.a.createElement(Ee,{key:S++,language:e,getLanguage:k})})))))},ye=a(35),Ne=a(26);var _e=function(){var e=Object(n.useGlobal)("auth"),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useGlobal)("user"),u=Object(p.a)(o,1)[0],d=Object(s.createRef)(),b=Object(s.createRef)(),g=Object(s.createRef)(),f=Object(s.createRef)(),h=Object(s.useState)(!1),v=Object(p.a)(h,2),E=v[0],w=v[1],O=Object(s.useState)(!1),j=Object(p.a)(O,2),y=j[0],N=j[1],_=Object(s.useState)(!1),x=Object(p.a)(_,2),S=x[0],G=x[1],L=Object(s.useState)(!1),V=Object(p.a)(L,2),A=V[0],P=V[1],I=Object(s.useState)(""),F=Object(p.a)(I,2),U=F[0],R=F[1],T=ce().width,D=Object(n.useGlobal)("serverError"),H=Object(p.a)(D,2),B=H[0],W=H[1];if(Object(n.useEffect)((function(){ne().then((function(e){W(!e)}))}),[]),!a)return r.a.createElement(l.c,{to:"/"});var M=function(e,t){e&&e.preventDefault(),"1"===t?w(!1):"2"===t&&N(!1)},Y=function(e,t){R(""),e&&e.preventDefault(),q()&&("changeButton"===t?w(!0):"deleteButton"===t&&N(!0),G(!1))},q=function(){return""===g.current.value||(""!==f.current.value?f.current.value===g.current.value||(R("Passwords don't match!"),!1):void R("The password has to be entered twice."))},J=function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t]},z=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),""!==g.current.value?f.current.value===g.current.value&&(a={username:d.current.value,password:g.current.value,right_guesses_in_a_row:b.current.value},console.log(a)):a={username:d.current.value,right_guesses_in_a_row:b.current.value},J(a),e.next=5,$.editUser(u,a);case 5:e.sent.data.success&&G(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.deleteUser(u);case 2:if(!e.sent.data.success){e.next=7;break}return G(!0),e.next=7,c(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,B?r.a.createElement(l.c,{to:"/Error"}):r.a.createElement("div",{id:"content",className:"settings margin_top"},r.a.createElement(C,{width:T}),T<700&&r.a.createElement(k,null),r.a.createElement("form",null,r.a.createElement("h1",{className:"margin_top_small"},"Settings"),r.a.createElement("h2",{className:"lead"},"Choose the property that you want to change"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no-padding-left",htmlFor:"settings"},"How many correct answers in a row lead to a new progress level?"),r.a.createElement("input",{type:"number",className:"form-control col-lg-8 col-xs-12",id:"settings",placeholder:"",ref:b})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no-padding-left",htmlFor:"settings"},"Change username"),r.a.createElement("input",{type:"text",className:"form-control col-lg-8 col-xs-12",id:"settings",placeholder:"",ref:d})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no-padding-left",htmlFor:"settings"},"Change password"),r.a.createElement("input",{type:"password",className:"form-control col-lg-8 col-xs-12",id:"settings",placeholder:"",onChange:function(e){e&&e.preventDefault(),""!==g.current.value?P(!0):P(!1)},ref:g})),A&&r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no-padding-left",htmlFor:"settings"},"Re-enter password"),r.a.createElement("input",{type:"password",className:"form-control col-lg-8 col-xs-12",id:"settings",placeholder:"",ref:f})),r.a.createElement("div",{className:"warning"},U),r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return Y(e,"changeButton")}},"Save settings")),r.a.createElement(ye.a,{variant:"danger",style:{marginTop:"1em"},onClick:function(e){return Y(e,"deleteButton")}},"Delete Account"),r.a.createElement(Ne.a,{show:E,onHide:function(e){return M(e,"1")}},r.a.createElement(Ne.a.Header,{closeButton:!0},r.a.createElement(Ne.a.Title,null,"Warning")),r.a.createElement(Ne.a.Body,null,S?"Changed.":"Are you sure that you want to save these changes?"),r.a.createElement(Ne.a.Footer,null,r.a.createElement(ye.a,{variant:"secondary",onClick:function(e){return M(e,"1")}},"Close"),!S&&r.a.createElement(ye.a,{variant:"primary",onClick:z},"Save Changes"))),r.a.createElement(Ne.a,{show:y,onHide:function(e){return M(e,"2")}},r.a.createElement(Ne.a.Header,{closeButton:!0},r.a.createElement(Ne.a.Title,null,"Warning")),r.a.createElement(Ne.a.Body,null,S?"Account Deleted.":"Are you sure that you want to delete this account?"),r.a.createElement(Ne.a.Footer,null,r.a.createElement(ye.a,{variant:"secondary",onClick:function(e){return M(e,"2")}},"Close"),!S&&r.a.createElement(ye.a,{variant:"danger",onClick:K},"Delete Account")))))},xe=function(e){for(var t=e.vocabsPerPage,a=e.totalVocabs,c=e.paginate,s=[],o=Object(n.useState)(1),l=Object(p.a)(o,2),u=l[0],i=l[1],m=1;m<=Math.ceil(a/t);m++)s.push(m);var d=function(e){return u===e?"page_link_active":""};return r.a.createElement("nav",{className:"margin_top"},r.a.createElement("ul",{className:"pagination"},s.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("span",{onClick:function(){return function(e){c(e),i(e)}(e)},className:"page-link page_link "+d(e)},e))}))))},ke=function(){var e=Object(m.a)(i.a.mark((function e(t,a,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={english_word:t,lang_id:a,user_id:n},e.next=3,ee.getVocabAndTranslation(r);case 3:return c=e.sent,e.abrupt("return",c.translation);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Se=function(e){var t=e.english_word,a=e.progress,c=e.even,s=Object(n.useGlobal)("langID"),o=Object(p.a)(s,1)[0],l=Object(n.useGlobal)("user"),u=Object(p.a)(l,1)[0],i=Object(n.useState)(""),m=Object(p.a)(i,2),d=m[0],b=m[1];return Object(n.useEffect)((function(){ke(t,o,u).then((function(e){b(e)}))}),[]),r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4"+(c?" blue_background":"")},t),r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4"+(c?" blue_background":"")},d),r.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-3 col-4"+(c?" blue_background":"")},a))},Ce=function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={user_id:t,lang_id:a},e.next=4,te.getProgressForUserAndLanguage(n);case 4:if(!((r=e.sent).length<50)){e.next=9;break}return e.next=8,Ge(t,a);case 8:return e.abrupt("return",Ce(t,a));case 9:return e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(m.a)(i.a.mark((function e(t,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a(154),c=r.vocabulary,Object.entries(c).forEach(function(){var e=Object(m.a)(i.a.mark((function e(a){var r,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.a)(a,2),r[0],c=r[1],s={language_id:n,english_word:c,user_id:t},e.next=4,ee.insert(s);case 4:200===e.sent.status&&te.createProgress(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Le=function(e){var t=Object(n.useGlobal)("auth"),a=Object(p.a)(t,1)[0],c=Object(n.useGlobal)("user"),s=Object(p.a)(c,1)[0],o=Object(n.useGlobal)("langID"),u=Object(p.a)(o,1)[0],i=Object(n.useGlobal)("langName"),m=Object(p.a)(i,1)[0],d=Object(n.useGlobal)("serverError"),b=Object(p.a)(d,2),g=b[0],f=b[1],h=Object(n.useState)([]),v=Object(p.a)(h,2),E=v[0],w=v[1],O=Object(n.useState)(!0),j=Object(p.a)(O,2),y=j[0],N=j[1],_=ce().width,x=Object(n.useState)(1),S=Object(p.a)(x,2),G=S[0],L=S[1],V=Object(n.useState)(50),A=Object(p.a)(V,1)[0];if(Object(n.useEffect)((function(){Ce(s,u).then((function(e){w(e),N(!1)}))}),[]),Object(n.useEffect)((function(){ne().then((function(e){console.log("Landing -> isRunning",e),f(!e)}))}),[]),!a)return r.a.createElement(l.c,{to:"/"});var P=0,I=G*A,F=I-A,U=E?E.slice(F,I):null;return r.a.createElement(r.a.Fragment,null,g?r.a.createElement(l.c,{to:"/Error"}):r.a.createElement("div",{id:"content",className:"vocabulary_list"},r.a.createElement(C,{width:_}),_<700&&r.a.createElement(k,{page:"VocabularyList"}),r.a.createElement("div",{id:"vocabulary_list"},r.a.createElement("h1",{className:"margin_top_small"},"Vocabulary overview"),r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4 vocabulary_list_header"},"English"),r.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-4 vocabulary_list_header"},m),r.a.createElement("div",{className:"col-xl-1 col-lg-2 col-md-3 col-4 vocabulary_list_header"},"Progress")),!y&&U&&U.length>0?U.map((function(e){return r.a.createElement(Se,{key:(new Date).getTime()+P++,english_word:e.english_word,progress:e.progress,translation:"",even:P%2===0})})):r.a.createElement("div",{className:"spinner-border m-5",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement(xe,{vocabsPerPage:A,totalVocabs:E.length,paginate:function(e){L(e)}}))))},Ve=function(e){var t=Object(n.useGlobal)("langName"),a=Object(p.a)(t,1)[0],c=Object(n.useState)(25),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)(!0),i=Object(p.a)(u,2),m=i[0],d=i[1],b=Object(n.useState)(!0),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(n.useState)(!0),E=Object(p.a)(v,2),w=E[0],O=E[1],j=Object(n.useState)(!1),y=Object(p.a)(j,2),N=y[0],_=y[1],x=function(e){var t=e.target,a=t.value;switch(t.name){case"vocabNumber":l(a);break;case"progress1":d(!m);break;case"progress2":h(!f);break;case"progress3":O(!w);break;case"training_options_radios":_(a);break;default:console.error("Oh..")}},k=e.showButton;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),(0,e.receiveInput)({vocabNumber:o,progress1:m,progress2:f,progress3:w,training_options_radios:N}),e.onClick()}},r.a.createElement("h2",null,"Please set your training prefrences"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12",htmlFor:"training_options_amount"},"How many vocabulary do you want to practise?"),r.a.createElement("div",{className:"col-lg-8 col-xs-12"},r.a.createElement("input",{type:"number",className:"form-control col-12",id:"training_options_amount",defaultValue:25,name:"vocabNumber",onChange:x}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12",htmlFor:"training_options_amount"},"Train vocabulary with following progress:"),r.a.createElement("div",{className:"col-lg-8 col-xs-12"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:m,id:"training_options_check_1",name:"progress1",checked:m,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_1"},"1")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:f,id:"training_options_check_2",name:"progress2",checked:f,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_2"},"2")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:w,id:"training_options_check_2",name:"progress3",checked:w,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_check_2"},"3")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-4 col-xs-12 no_padding_left",htmlFor:"training_options_direction"},"Direction"),r.a.createElement("div",{className:"col-lg-8 col-xs-12"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"training_options_radios",id:"training_options_radios_1",value:"fo_en",defaultChecked:!0,onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_radios_1"},"Show English, ask ".concat(a))),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"training_options_radios",id:"training_options_radios_2",value:"en_fo",onChange:x}),r.a.createElement("label",{className:"form-check-label",htmlFor:"training_options_radios_2"},"Show ".concat(a,", ask English"))))),k?r.a.createElement("button",{type:"submit",className:"btn btn-primary margin_top"},"Start training"):null)},Ae=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.filterProgress(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getVocabById(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),c=a[0],s=a[1],o=Object(n.useGlobal)("langID"),l=Object(p.a)(o,1)[0],u=Object(n.useGlobal)("progress"),d=Object(p.a)(u,1)[0],b=Object(n.useGlobal)("summary"),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(n.useGlobal)("user"),E=Object(p.a)(v,1)[0],w=Object(n.useGlobal)("progressSetting"),O=Object(p.a)(w,1)[0],j=Object(n.useGlobal)("direction"),y=Object(p.a)(j,1)[0],N=Object(n.useState)(0),_=Object(p.a)(N,2),x=_[0],k=_[1],S=Object(n.useState)(null),C=Object(p.a)(S,2),G=C[0],L=C[1],V=Object(n.useState)(""),A=Object(p.a)(V,2),P=A[0],I=A[1],F=Object(n.useState)(0),U=Object(p.a)(F,2),R=U[0],T=U[1],D=Object(n.useState)(null),H=Object(p.a)(D,2),B=H[0],W=H[1];Object(n.useEffect)((function(){Ae({user_id:E,language_id:l,progress:d}).then((function(e){e&&e.success&&(Y(e.data),h([]))}))}),[]);var M=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,o,u,m,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=c[R],(r=f).push({currentWord:n,input:P}),h(r),s={user_id:E,english_word:n.english_word,lang_id:l},!P){t.next=25;break}if(o=!1,n.translation[l]?u="fo_en"===y?P.toLowerCase().trim()===n.translation[l].toLowerCase():P.toLowerCase().trim()===n.english_word.toLowerCase():(console.error("Word not found in current language."),o=!0),!u&&!o){t.next=20;break}return T(R+1),I(""),L(""),k(0),t.next=16,te.increaseRGIAR(s);case 16:1===(m=t.sent).progress?m.right_guesses_in_a_row===O-1&&(te.increaseProgress(s),console.info("%c Progress updated!","Background: #00ff55")):2===m.progress?m.right_guesses_in_a_row!==O-1&&m.right_guesses_in_a_row!==2*O-1||(te.increaseProgress(s),console.info("%c Progress updated!","Background: #33ff77")):console.info("%c Maximum Progress level already achieved!","Background: #0f0"),t.next=25;break;case 20:te.resetRGIAR(s),L("Unfortunately not correct! Please try again."),k(x+1),x>=1&&(p="fo_en"===e.direction?n.translation[l]:n.english_word,L("Correct translation: ".concat(p," \nPlease type it in to increase your learning effect.")));case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c,o,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.numberOfVocabs,r=[],a.forEach((function(e){r.push(e.english_word)})),t.next=5,Pe(r).then((function(e){return e.data}));case 5:for(c=t.sent,o=[],c.length<n&&(W("Your selection contains only ".concat(c.length," words.")),q());o.length<c.length&&o.length<n;)l=Math.floor(Math.random()*c.length+0),o.includes(c[l])||o.push(c[l]);s(o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){setTimeout((function(){W(null)}),5e3)};return r.a.createElement("div",{className:"margin_top"},R<c.length?r.a.createElement("form",null,B?r.a.createElement("p",{className:"bg-warning p-1"},B):null,r.a.createElement("h2",null,"Translate! ".concat(R+1,"/").concat(c.length)),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-xs-12 no-padding-left",htmlFor:"train_vocabulary_translation"},c[R]?"fo_en"===e.direction?c[R].english_word:c[R].translation[l]:"error"),r.a.createElement("input",{type:"text",className:"form-control col-lg-9 col-xs-12",id:"train_vocabulary_translation",placeholder:"type in translation",name:"translationInput",onChange:function(e){var t=e.target.value;I(t)},value:P})),G?r.a.createElement("p",{className:"alert-warning"},G):null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:M},"Submit and continue"),r.a.createElement("button",{type:"button",className:"btn btn-secondary ml-1",onClick:function(){L(""),k(0),T(R+1),I("")}},"Skip")):r.a.createElement("div",null,"Completed! Show summary?"))},Fe=function(){var e=Object(m.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.searchProgress({english_word:t,user_id:a,language_id:n});case 2:return r=e.sent,e.prev=3,e.abrupt("return",r.progress);case 7:e.prev=7,e.t0=e.catch(3),console.error(e.t0);case 10:return e.abrupt("return",-1);case 11:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ue=function(e){var t=e.vocab,a=e.input,c=e.correct,s=e.english_word,o=e.user,l=e.langID,u=Object(n.useState)(null),i=Object(p.a)(u,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){Fe(s,o,l).then((function(e){d(e)}))}),[]),r.a.createElement("div",{className:"summary_list_entry ".concat(c.toLowerCase().trim()===a.toLowerCase().trim()?"right":"wrong")},e.width>700?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},t),r.a.createElement("div",{className:"col-3"},a),r.a.createElement("div",{className:"col-3"},c),r.a.createElement("div",{className:"col-3"},m)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 bold"},"Given word: "),r.a.createElement("div",{className:"col-6"},t)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 bold"},"Your translation: "),r.a.createElement("div",{className:"col-6"},a)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 bold"},"Correct translation: "),r.a.createElement("div",{className:"col-6"},c)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 bold"},"Current progress: "),r.a.createElement("div",{className:"col-6"},m))))},Re=function(e){var t=Object(n.useGlobal)("summary"),a=Object(p.a)(t,1)[0],c=Object(n.useGlobal)("langID"),s=Object(p.a)(c,1)[0],o=Object(n.useGlobal)("user"),l=Object(p.a)(o,1)[0],u=ce().width,i=0;return r.a.createElement("div",{id:"training_summary",className:"margin_top"},r.a.createElement("h2",null,"Training summary"),u>700?r.a.createElement("div",{className:"row vocabulary_list_entry"},r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Given word"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Your translation"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Correct translation"),r.a.createElement("div",{className:"col-3 vocabulary_list_header"},"Current Progress")):r.a.createElement("div",null),a.map((function(e){var t=e.currentWord.translation[s]?e.currentWord.translation[s]:"HOOOOOOW";return i++,r.a.createElement(Ue,{key:i++,vocab:e.currentWord.english_word,input:e.input,correct:t,english_word:e.currentWord.english_word,langID:s,user:l,width:u})})))};var Te=function(){var e=Object(n.useGlobal)("auth"),t=Object(p.a)(e,1)[0],a=Object(n.useState)(!0),c=Object(p.a)(a,2),s=c[0],o=c[1],u=Object(n.useState)(!1),i=Object(p.a)(u,2),m=i[0],d=i[1],b=Object(n.useState)(!1),g=Object(p.a)(b,2),f=g[0],h=g[1],v=Object(n.useState)("options"),E=Object(p.a)(v,2),w=E[0],O=E[1],j=Object(n.useState)("Start training"),y=Object(p.a)(j,2),N=y[0],_=y[1],x=Object(n.useState)(!1),S=Object(p.a)(x,2),G=S[0],L=S[1],V=Object(n.useGlobal)("numberOfVocab"),A=Object(p.a)(V,2),P=A[0],I=A[1],F=Object(n.useGlobal)("progress"),U=Object(p.a)(F,2),R=U[0],T=U[1],D=Object(n.useGlobal)("direction"),H=Object(p.a)(D,2),B=H[0],W=H[1],M=Object(n.useGlobal)("language"),Y=Object(p.a)(M,1)[0],q=ce().width,J=Object(n.useGlobal)("serverError"),z=Object(p.a)(J,2),K=z[0],Q=z[1];if(Object(n.useEffect)((function(){ne().then((function(e){Q(!e)}))}),[]),!t)return r.a.createElement(l.c,{to:"/"});var X=function(){"options"===w?(O("queries"),o(!1),d(!0),h(!1),_("Stop training")):"queries"===w?(O("summary"),o(!1),d(!1),h(!0),_("Start new training")):"summary"===w&&(O("options"),o(!0),d(!1),h(!1),_("Start training"),L(!1))};return r.a.createElement(r.a.Fragment,null,K?r.a.createElement(l.c,{to:"/Error"}):r.a.createElement("div",{id:"content",className:"vocabulary_training"},r.a.createElement(C,{width:q}),q<700&&r.a.createElement(k,{page:"VocabularyTraining"}),r.a.createElement("h1",{className:"margin_top_small"},"Vocabulary Training"),s&&!G?r.a.createElement(Ve,{receiveInput:function(e){L(!0),0===e.vocabNumber?I(25):I(e.vocabNumber);var t=[];e.progress1&&t.push(1),e.progress2&&t.push(2),e.progress3&&t.push(3),T(t),e.training_options_radios&&W(e.training_options_radios)},showButton:!G,onClick:X}):null,m?r.a.createElement(Ie,{show:!1,numberOfVocabs:P,progress:R,direction:B,language:Y}):null,f?r.a.createElement(Re,{show:!1}):null,G?r.a.createElement("button",{type:"button",className:"btn btn-primary margin_top",onClick:X},"".concat(N)):null))},De=function(){return o.a.createElement("main",null,o.a.createElement(l.g,null,o.a.createElement(l.d,{exact:!0,path:"/",component:ve}),o.a.createElement(l.d,{path:"/Languages",component:je}),o.a.createElement(l.d,{path:"/VocabularyList",component:Le}),o.a.createElement(l.d,{path:"/AddVocabulary",component:se}),o.a.createElement(l.d,{path:"/VocabularyTraining",component:Te}),o.a.createElement(l.d,{path:"/Settings",component:_e}),o.a.createElement(l.d,{path:"/*",component:oe})))},He=(a(155),function(){return r.a.createElement(d.BrowserRouter,null,r.a.createElement(E.a,null,r.a.createElement(De,null)))});a(156);Object(n.setGlobal)({auth:!1,user:"5ee0e6472be0845b1432ee44",progress:[1],numberOfVocab:25,direction:"fo_en",langName:"German",langID:"de",summary:[],progressSetting:3,serverError:!1}),Object(c.render)(r.a.createElement(He,null),document.getElementById("root"))},30:function(e,t,a){},93:function(e,t,a){e.exports=a.p+"static/media/003-plus.fbcff910.svg"},94:function(e,t,a){e.exports=a.p+"static/media/007-bearbeiten.2927f8de.svg"},95:function(e,t,a){e.exports=a.p+"static/media/005-liste.ad43a8d6.svg"}},[[106,1,2]]]);
//# sourceMappingURL=main.025f6a2b.chunk.js.map